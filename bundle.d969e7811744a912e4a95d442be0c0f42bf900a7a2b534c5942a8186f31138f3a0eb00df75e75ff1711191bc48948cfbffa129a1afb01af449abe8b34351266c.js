var bt=Object.create,qe=Object.defineProperty,xt=Object.getPrototypeOf,_t=Object.prototype.hasOwnProperty,Et=Object.getOwnPropertyNames,wt=Object.getOwnPropertyDescriptor;var St=r=>qe(r,"__esModule",{value:!0});var Ue=(r,t)=>()=>(t||r((t={exports:{}}).exports,t),t.exports);var Ot=(r,t,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Et(t))!_t.call(r,o)&&o!=="default"&&qe(r,o,{get:()=>t[o],enumerable:!(s=wt(t,o))||s.enumerable});return r},He=r=>Ot(St(qe(r!=null?bt(xt(r)):{},"default",r&&r.__esModule&&"default"in r?{get:()=>r.default,enumerable:!0}:{value:r,enumerable:!0})),r);var st=Ue((Pt,De)=>{(function(r,t){var s=t(r,r.document,Date);r.lazySizes=s,typeof De=="object"&&De.exports&&(De.exports=s)})(typeof window!="undefined"?window:{},function(t,s,o){"use strict";var c,u;if(function(){var p,y={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",fastLoadedClass:"ls-is-cached",iframeLoadMode:0,srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};u=t.lazySizesConfig||t.lazysizesConfig||{};for(p in y)p in u||(u[p]=y[p])}(),!s||!s.getElementsByClassName)return{init:function(){},cfg:u,noSupport:!0};var h=s.documentElement,g=t.HTMLPictureElement,E="addEventListener",m="getAttribute",S=t[E].bind(t),A=t.setTimeout,Q=t.requestAnimationFrame||A,V=t.requestIdleCallback,D=/^picture$/i,q=["load","error","lazyincluded","_lazyloaded"],T={},I=Array.prototype.forEach,j=function(p,y){return T[y]||(T[y]=new RegExp("(\\s|^)"+y+"(\\s|$)")),T[y].test(p[m]("class")||"")&&T[y]},M=function(p,y){j(p,y)||p.setAttribute("class",(p[m]("class")||"").trim()+" "+y)},X=function(p,y){var P;(P=j(p,y))&&p.setAttribute("class",(p[m]("class")||"").replace(P," "))},ce=function(p,y,P){var k=P?E:"removeEventListener";P&&ce(p,y),q.forEach(function(x){p[k](x,y)})},ae=function(p,y,P,k,x){var w=s.createEvent("Event");return P||(P={}),P.instance=c,w.initEvent(y,!k,!x),w.detail=P,p.dispatchEvent(w),w},U=function(p,y){var P;!g&&(P=t.picturefill||u.pf)?(y&&y.src&&!p[m]("srcset")&&p.setAttribute("srcset",y.src),P({reevaluate:!0,elements:[p]})):y&&y.src&&(p.src=y.src)},te=function(p,y){return(getComputedStyle(p,null)||{})[y]},he=function(p,y,P){for(P=P||p.offsetWidth;P<u.minSize&&y&&!p._lazysizesWidth;)P=y.offsetWidth,y=y.parentNode;return P},re=function(){var p,y,P=[],k=[],x=P,w=function(){var z=x;for(x=P.length?k:P,p=!0,y=!1;z.length;)z.shift()();p=!1},$=function(z,L){p&&!L?z.apply(this,arguments):(x.push(z),y||(y=!0,(s.hidden?A:Q)(w)))};return $._lsFlush=w,$}(),oe=function(p,y){return y?function(){re(p)}:function(){var P=this,k=arguments;re(function(){p.apply(P,k)})}},ue=function(p){var y,P=0,k=u.throttleDelay,x=u.ricTimeout,w=function(){y=!1,P=o.now(),p()},$=V&&x>49?function(){V(w,{timeout:x}),x!==u.ricTimeout&&(x=u.ricTimeout)}:oe(function(){A(w)},!0);return function(z){var L;(z=z===!0)&&(x=33),!y&&(y=!0,L=k-(o.now()-P),L<0&&(L=0),z||L<9?$():A($,L))}},ge=function(p){var y,P,k=99,x=function(){y=null,p()},w=function(){var $=o.now()-P;$<k?A(w,k-$):(V||x)(x)};return function(){P=o.now(),y||(y=A(w,k))}},me=function(){var p,y,P,k,x,w,$,z,L,J,ie,be,Le=/^img$/i,Pe=/^iframe$/i,$e="onscroll"in t&&!/(gle|ing)bot/.test(navigator.userAgent),Qe=0,_e=0,le=0,Ee=-1,Ie=function(b){le--,(!b||le<0||!b.target)&&(le=0)},ze=function(b){return be==null&&(be=te(s.body,"visibility")=="hidden"),be||!(te(b.parentNode,"visibility")=="hidden"&&te(b,"visibility")=="hidden")},je=function(b,C){var F,W=b,H=ze(b);for(z-=C,ie+=C,L-=C,J+=C;H&&(W=W.offsetParent)&&W!=s.body&&W!=h;)H=(te(W,"opacity")||1)>0,H&&te(W,"overflow")!="visible"&&(F=W.getBoundingClientRect(),H=J>F.left&&L<F.right&&ie>F.top-1&&z<F.bottom+1);return H},Ce=function(){var b,C,F,W,H,K,Z,ve,de,ye,ee,pe,se=c.elements;if((k=u.loadMode)&&le<8&&(b=se.length)){for(C=0,Ee++;C<b;C++)if(!(!se[C]||se[C]._lazyRace)){if(!$e||c.prematureUnveil&&c.prematureUnveil(se[C])){xe(se[C]);continue}if((!(ve=se[C][m]("data-expand"))||!(K=ve*1))&&(K=_e),ye||(ye=!u.expand||u.expand<1?h.clientHeight>500&&h.clientWidth>500?500:370:u.expand,c._defEx=ye,ee=ye*u.expFactor,pe=u.hFac,be=null,_e<ee&&le<1&&Ee>2&&k>2&&!s.hidden?(_e=ee,Ee=0):k>1&&Ee>1&&le<6?_e=ye:_e=Qe),de!==K&&(w=innerWidth+K*pe,$=innerHeight+K,Z=K*-1,de=K),F=se[C].getBoundingClientRect(),(ie=F.bottom)>=Z&&(z=F.top)<=$&&(J=F.right)>=Z*pe&&(L=F.left)<=w&&(ie||J||L||z)&&(u.loadHidden||ze(se[C]))&&(y&&le<3&&!ve&&(k<3||Ee<4)||je(se[C],K))){if(xe(se[C]),H=!0,le>9)break}else!H&&y&&!W&&le<4&&Ee<4&&k>2&&(p[0]||u.preloadAfterLoad)&&(p[0]||!ve&&(ie||J||L||z||se[C][m](u.sizesAttr)!="auto"))&&(W=p[0]||se[C])}W&&!H&&xe(W)}},Y=ue(Ce),Re=function(b){var C=b.target;if(C._lazyCache){delete C._lazyCache;return}Ie(b),M(C,u.loadedClass),X(C,u.loadingClass),ce(C,Ae),ae(C,"lazyloaded")},Ne=oe(Re),Ae=function(b){Ne({target:b.target})},Me=function(b,C){var F=b.getAttribute("data-load-mode")||u.iframeLoadMode;F==0?b.contentWindow.location.replace(C):F==1&&(b.src=C)},Be=function(b){var C,F=b[m](u.srcsetAttr);(C=u.customMedia[b[m]("data-media")||b[m]("media")])&&b.setAttribute("media",C),F&&b.setAttribute("srcset",F)},Te=oe(function(b,C,F,W,H){var K,Z,ve,de,ye,ee;(ye=ae(b,"lazybeforeunveil",C)).defaultPrevented||(W&&(F?M(b,u.autosizesClass):b.setAttribute("sizes",W)),Z=b[m](u.srcsetAttr),K=b[m](u.srcAttr),H&&(ve=b.parentNode,de=ve&&D.test(ve.nodeName||"")),ee=C.firesLoad||"src"in b&&(Z||K||de),ye={target:b},M(b,u.loadingClass),ee&&(clearTimeout(P),P=A(Ie,2500),ce(b,Ae,!0)),de&&I.call(ve.getElementsByTagName("source"),Be),Z?b.setAttribute("srcset",Z):K&&!de&&(Pe.test(b.nodeName)?Me(b,K):b.src=K),H&&(Z||de)&&U(b,{src:K})),b._lazyRace&&delete b._lazyRace,X(b,u.lazyClass),re(function(){var pe=b.complete&&b.naturalWidth>1;(!ee||pe)&&(pe&&M(b,u.fastLoadedClass),Re(ye),b._lazyCache=!0,A(function(){"_lazyCache"in b&&delete b._lazyCache},9)),b.loading=="lazy"&&le--},!0)}),xe=function(b){if(!b._lazyRace){var C,F=Le.test(b.nodeName),W=F&&(b[m](u.sizesAttr)||b[m]("sizes")),H=W=="auto";(H||!y)&&F&&(b[m]("src")||b.srcset)&&!b.complete&&!j(b,u.errorClass)&&j(b,u.lazyClass)||(C=ae(b,"lazyunveilread").detail,H&&G.updateElem(b,!0,b.offsetWidth),b._lazyRace=!0,le++,Te(b,C,H,W,F))}},ke=ge(function(){u.loadMode=3,Y()}),Ve=function(){u.loadMode==3&&(u.loadMode=2),ke()},fe=function(){if(!y){if(o.now()-x<999){A(fe,999);return}y=!0,u.loadMode=3,Y(),S("scroll",Ve,!0)}};return{_:function(){x=o.now(),c.elements=s.getElementsByClassName(u.lazyClass),p=s.getElementsByClassName(u.lazyClass+" "+u.preloadClass),S("scroll",Y,!0),S("resize",Y,!0),S("pageshow",function(b){if(b.persisted){var C=s.querySelectorAll("."+u.loadingClass);C.length&&C.forEach&&Q(function(){C.forEach(function(F){F.complete&&xe(F)})})}}),t.MutationObserver?new MutationObserver(Y).observe(h,{childList:!0,subtree:!0,attributes:!0}):(h[E]("DOMNodeInserted",Y,!0),h[E]("DOMAttrModified",Y,!0),setInterval(Y,999)),S("hashchange",Y,!0),["focus","mouseover","click","load","transitionend","animationend"].forEach(function(b){s[E](b,Y,!0)}),/d$|^c/.test(s.readyState)?fe():(S("load",fe),s[E]("DOMContentLoaded",Y),A(fe,2e4)),c.elements.length?(Ce(),re._lsFlush()):Y()},checkElems:Y,unveil:xe,_aLSL:Ve}}(),G=function(){var p,y=oe(function(w,$,z,L){var J,ie,be;if(w._lazysizesWidth=L,L+="px",w.setAttribute("sizes",L),D.test($.nodeName||""))for(J=$.getElementsByTagName("source"),ie=0,be=J.length;ie<be;ie++)J[ie].setAttribute("sizes",L);z.detail.dataAttr||U(w,z.detail)}),P=function(w,$,z){var L,J=w.parentNode;J&&(z=he(w,J,z),L=ae(w,"lazybeforesizes",{width:z,dataAttr:!!$}),L.defaultPrevented||(z=L.detail.width,z&&z!==w._lazysizesWidth&&y(w,J,L,z)))},k=function(){var w,$=p.length;if($)for(w=0;w<$;w++)P(p[w])},x=ge(k);return{_:function(){p=s.getElementsByClassName(u.autosizesClass),S("resize",x)},checkElems:x,updateElem:P}}(),ne=function(){!ne.i&&s.getElementsByClassName&&(ne.i=!0,G._(),me._())};return A(function(){u.init&&ne()}),c={cfg:u,autoSizer:G,loader:me,init:ne,uP:U,aC:M,rC:X,hC:j,fire:ae,gW:he,rAF:re},c})});var at=Ue((Ke,Ge)=>{(function(r,t){typeof Ke=="object"&&typeof Ge!="undefined"?Ge.exports=t():typeof define=="function"&&define.amd?define(t):(r=r||self,r.Alpine=t())})(Ke,function(){"use strict";function r(i,e,n){return e in i?Object.defineProperty(i,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[e]=n,i}function t(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);e&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(i,l).enumerable})),n.push.apply(n,a)}return n}function s(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t(Object(n),!0).forEach(function(a){r(i,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):t(Object(n)).forEach(function(a){Object.defineProperty(i,a,Object.getOwnPropertyDescriptor(n,a))})}return i}function o(){return new Promise(i=>{document.readyState=="loading"?document.addEventListener("DOMContentLoaded",i):i()})}function c(i){return Array.from(new Set(i))}function u(){return navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")}function h(i,e){return i==e}function g(i,e){i.tagName.toLowerCase()!=="template"?console.warn(`Alpine: [${e}] directive should only be added to <template> tags. See https://github.com/alpinejs/alpine#${e}`):i.content.childElementCount!==1&&console.warn(`Alpine: <template> tag with [${e}] encountered with an unexpected number of root elements. Make sure <template> has a single root element. `)}function E(i){return i.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function m(i){return i.toLowerCase().replace(/-(\w)/g,(e,n)=>n.toUpperCase())}function S(i,e){if(e(i)===!1)return;let n=i.firstElementChild;for(;n;)S(n,e),n=n.nextElementSibling}function A(i,e){var n;return function(){var a=this,l=arguments,f=function(){n=null,i.apply(a,l)};clearTimeout(n),n=setTimeout(f,e)}}let Q=(i,e,n)=>{if(console.warn(`Alpine Error: "${n}"

Expression: "${e}"
Element:`,i),!u())throw Object.assign(n,{el:i,expression:e}),n};function V(i,{el:e,expression:n}){try{let a=i();return a instanceof Promise?a.catch(l=>Q(e,n,l)):a}catch(a){Q(e,n,a)}}function D(i,e,n,a={}){return V(()=>typeof e=="function"?e.call(n):new Function(["$data",...Object.keys(a)],`var __alpine_result; with($data) { __alpine_result = ${e} }; return __alpine_result`)(n,...Object.values(a)),{el:i,expression:e})}function q(i,e,n,a={}){return V(()=>{if(typeof e=="function")return Promise.resolve(e.call(n,a.$event));let l=Function;if(l=Object.getPrototypeOf(async function(){}).constructor,Object.keys(n).includes(e)){let f=new Function(["dataContext",...Object.keys(a)],`with(dataContext) { return ${e} }`)(n,...Object.values(a));return typeof f=="function"?Promise.resolve(f.call(n,a.$event)):Promise.resolve()}return Promise.resolve(new l(["dataContext",...Object.keys(a)],`with(dataContext) { ${e} }`)(n,...Object.values(a)))},{el:i,expression:e})}let T=/^x-(on|bind|data|text|html|model|if|for|show|cloak|transition|ref|spread)\b/;function I(i){let e=ae(i.name);return T.test(e)}function j(i,e,n){let a=Array.from(i.attributes).filter(I).map(X),l=a.filter(f=>f.type==="spread")[0];if(l){let f=D(i,l.expression,e.$data);a=a.concat(Object.entries(f).map(([v,d])=>X({name:v,value:d})))}return n?a.filter(f=>f.type===n):M(a)}function M(i){let e=["bind","model","show","catch-all"];return i.sort((n,a)=>{let l=e.indexOf(n.type)===-1?"catch-all":n.type,f=e.indexOf(a.type)===-1?"catch-all":a.type;return e.indexOf(l)-e.indexOf(f)})}function X({name:i,value:e}){let n=ae(i),a=n.match(T),l=n.match(/:([a-zA-Z0-9\-:]+)/),f=n.match(/\.[^.\]]+(?=[^\]]*$)/g)||[];return{type:a?a[1]:null,value:l?l[1]:null,modifiers:f.map(v=>v.replace(".","")),expression:e}}function ce(i){return["disabled","checked","required","readonly","hidden","open","selected","autofocus","itemscope","multiple","novalidate","allowfullscreen","allowpaymentrequest","formnovalidate","autoplay","controls","loop","muted","playsinline","default","ismap","reversed","async","defer","nomodule"].includes(i)}function ae(i){return i.startsWith("@")?i.replace("@","x-on:"):i.startsWith(":")?i.replace(":","x-bind:"):i}function U(i,e=Boolean){return i.split(" ").filter(e)}let te="in",he="out",re="cancelled";function oe(i,e,n,a,l=!1){if(l)return e();if(i.__x_transition&&i.__x_transition.type===te)return;let f=j(i,a,"transition"),v=j(i,a,"show")[0];if(v&&v.modifiers.includes("transition")){let d=v.modifiers;if(d.includes("out")&&!d.includes("in"))return e();d=d.includes("in")&&d.includes("out")?d.filter((O,R)=>R<d.indexOf("out")):d,ge(i,d,e,n)}else f.some(d=>["enter","enter-start","enter-end"].includes(d.value))?y(i,a,f,e,n):e()}function ue(i,e,n,a,l=!1){if(l)return e();if(i.__x_transition&&i.__x_transition.type===he)return;let f=j(i,a,"transition"),v=j(i,a,"show")[0];if(v&&v.modifiers.includes("transition")){let d=v.modifiers;if(d.includes("in")&&!d.includes("out"))return e();let _=d.includes("in")&&d.includes("out");d=_?d.filter((O,R)=>R>d.indexOf("out")):d,me(i,d,_,e,n)}else f.some(d=>["leave","leave-start","leave-end"].includes(d.value))?P(i,a,f,e,n):e()}function ge(i,e,n,a){let l={duration:G(e,"duration",150),origin:G(e,"origin","center"),first:{opacity:0,scale:G(e,"scale",95)},second:{opacity:1,scale:100}};ne(i,e,n,()=>{},a,l,te)}function me(i,e,n,a,l){let v={duration:n?G(e,"duration",150):G(e,"duration",150)/2,origin:G(e,"origin","center"),first:{opacity:1,scale:100},second:{opacity:0,scale:G(e,"scale",95)}};ne(i,e,()=>{},a,l,v,he)}function G(i,e,n){if(i.indexOf(e)===-1)return n;let a=i[i.indexOf(e)+1];if(!a||e==="scale"&&!w(a))return n;if(e==="duration"){let l=a.match(/([0-9]+)ms/);if(l)return l[1]}return e==="origin"&&["top","right","left","center","bottom"].includes(i[i.indexOf(e)+2])?[a,i[i.indexOf(e)+2]].join(" "):a}function ne(i,e,n,a,l,f,v){i.__x_transition&&i.__x_transition.cancel&&i.__x_transition.cancel();let d=i.style.opacity,_=i.style.transform,O=i.style.transformOrigin,R=!e.includes("opacity")&&!e.includes("scale"),B=R||e.includes("opacity"),N=R||e.includes("scale");x(i,{start(){B&&(i.style.opacity=f.first.opacity),N&&(i.style.transform=`scale(${f.first.scale/100})`)},during(){N&&(i.style.transformOrigin=f.origin),i.style.transitionProperty=[B?"opacity":"",N?"transform":""].join(" ").trim(),i.style.transitionDuration=`${f.duration/1e3}s`,i.style.transitionTimingFunction="cubic-bezier(0.4, 0.0, 0.2, 1)"},show(){n()},end(){B&&(i.style.opacity=f.second.opacity),N&&(i.style.transform=`scale(${f.second.scale/100})`)},hide(){a()},cleanup(){B&&(i.style.opacity=d),N&&(i.style.transform=_),N&&(i.style.transformOrigin=O),i.style.transitionProperty=null,i.style.transitionDuration=null,i.style.transitionTimingFunction=null}},v,l)}let p=(i,e,n)=>typeof i=="function"?n.evaluateReturnExpression(e,i):i;function y(i,e,n,a,l){let f=U(p((n.find(_=>_.value==="enter")||{expression:""}).expression,i,e)),v=U(p((n.find(_=>_.value==="enter-start")||{expression:""}).expression,i,e)),d=U(p((n.find(_=>_.value==="enter-end")||{expression:""}).expression,i,e));k(i,f,v,d,a,()=>{},te,l)}function P(i,e,n,a,l){let f=U(p((n.find(_=>_.value==="leave")||{expression:""}).expression,i,e)),v=U(p((n.find(_=>_.value==="leave-start")||{expression:""}).expression,i,e)),d=U(p((n.find(_=>_.value==="leave-end")||{expression:""}).expression,i,e));k(i,f,v,d,()=>{},a,he,l)}function k(i,e,n,a,l,f,v,d){i.__x_transition&&i.__x_transition.cancel&&i.__x_transition.cancel();let _=i.__x_original_classes||[];x(i,{start(){i.classList.add(...n)},during(){i.classList.add(...e)},show(){l()},end(){i.classList.remove(...n.filter(R=>!_.includes(R))),i.classList.add(...a)},hide(){f()},cleanup(){i.classList.remove(...e.filter(R=>!_.includes(R))),i.classList.remove(...a.filter(R=>!_.includes(R)))}},v,d)}function x(i,e,n,a){let l=$(()=>{e.hide(),i.isConnected&&e.cleanup(),delete i.__x_transition});i.__x_transition={type:n,cancel:$(()=>{a(re),l()}),finish:l,nextFrame:null},e.start(),e.during(),i.__x_transition.nextFrame=requestAnimationFrame(()=>{let f=Number(getComputedStyle(i).transitionDuration.replace(/,.*/,"").replace("s",""))*1e3;f===0&&(f=Number(getComputedStyle(i).animationDuration.replace("s",""))*1e3),e.show(),i.__x_transition.nextFrame=requestAnimationFrame(()=>{e.end(),setTimeout(i.__x_transition.finish,f)})})}function w(i){return!Array.isArray(i)&&!isNaN(i)}function $(i){let e=!1;return function(){e||(e=!0,i.apply(this,arguments))}}function z(i,e,n,a,l){g(e,"x-for");let f=typeof n=="function"?L(i.evaluateReturnExpression(e,n)):L(n),v=be(i,e,f,l),d=e;v.forEach((_,O)=>{let R=J(f,_,O,v,l()),B=ie(i,e,O,R),N=Pe(d.nextElementSibling,B);N?(delete N.__x_for_key,N.__x_for=R,i.updateElements(N,()=>N.__x_for)):(N=Le(e,d),oe(N,()=>{},()=>{},i,a),N.__x_for=R,i.initializeElements(N,()=>N.__x_for)),d=N,d.__x_for_key=B}),$e(d,i)}function L(i){let e=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,n=/^\(|\)$/g,a=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,l=String(i).match(a);if(!l)return;let f={};f.items=l[2].trim();let v=l[1].trim().replace(n,""),d=v.match(e);return d?(f.item=v.replace(e,"").trim(),f.index=d[1].trim(),d[2]&&(f.collection=d[2].trim())):f.item=v,f}function J(i,e,n,a,l){let f=l?s({},l):{};return f[i.item]=e,i.index&&(f[i.index]=n),i.collection&&(f[i.collection]=a),f}function ie(i,e,n,a){let l=j(e,i,"bind").filter(f=>f.value==="key")[0];return l?i.evaluateReturnExpression(e,l.expression,()=>a):n}function be(i,e,n,a){let l=j(e,i,"if")[0];if(l&&!i.evaluateReturnExpression(e,l.expression))return[];let f=i.evaluateReturnExpression(e,n.items,a);return w(f)&&f>=0&&(f=Array.from(Array(f).keys(),v=>v+1)),f}function Le(i,e){let n=document.importNode(i.content,!0);return e.parentElement.insertBefore(n,e.nextElementSibling),e.nextElementSibling}function Pe(i,e){if(!i||i.__x_for_key===void 0)return;if(i.__x_for_key===e)return i;let n=i;for(;n;){if(n.__x_for_key===e)return n.parentElement.insertBefore(n,i);n=n.nextElementSibling&&n.nextElementSibling.__x_for_key!==void 0?n.nextElementSibling:!1}}function $e(i,e){for(var n=i.nextElementSibling&&i.nextElementSibling.__x_for_key!==void 0?i.nextElementSibling:!1;n;){let a=n,l=n.nextElementSibling;ue(n,()=>{a.remove()},()=>{},e),n=l&&l.__x_for_key!==void 0?l:!1}}function Qe(i,e,n,a,l,f,v){var d=i.evaluateReturnExpression(e,a,l);if(n==="value"){if(we.ignoreFocusedForValueBinding&&document.activeElement.isSameNode(e))return;if(d===void 0&&String(a).match(/\./)&&(d=""),e.type==="radio")e.attributes.value===void 0&&f==="bind"?e.value=d:f!=="bind"&&(e.checked=h(e.value,d));else if(e.type==="checkbox")typeof d!="boolean"&&![null,void 0].includes(d)&&f==="bind"?e.value=String(d):f!=="bind"&&(Array.isArray(d)?e.checked=d.some(_=>h(_,e.value)):e.checked=!!d);else if(e.tagName==="SELECT")le(e,d);else{if(e.value===d)return;e.value=d}}else if(n==="class")if(Array.isArray(d)){let _=e.__x_original_classes||[];e.setAttribute("class",c(_.concat(d)).join(" "))}else if(typeof d=="object")Object.keys(d).sort((O,R)=>d[O]-d[R]).forEach(O=>{d[O]?U(O).forEach(R=>e.classList.add(R)):U(O).forEach(R=>e.classList.remove(R))});else{let _=e.__x_original_classes||[],O=d?U(d):[];e.setAttribute("class",c(_.concat(O)).join(" "))}else n=v.includes("camel")?m(n):n,[null,void 0,!1].includes(d)?e.removeAttribute(n):ce(n)?_e(e,n,n):_e(e,n,d)}function _e(i,e,n){i.getAttribute(e)!=n&&i.setAttribute(e,n)}function le(i,e){let n=[].concat(e).map(a=>a+"");Array.from(i.options).forEach(a=>{a.selected=n.includes(a.value||a.text)})}function Ee(i,e,n){e===void 0&&String(n).match(/\./)&&(e=""),i.textContent=e}function Ie(i,e,n,a){e.innerHTML=i.evaluateReturnExpression(e,n,a)}function ze(i,e,n,a,l=!1){let f=()=>{e.style.display="none",e.__x_is_shown=!1},v=()=>{e.style.length===1&&e.style.display==="none"?e.removeAttribute("style"):e.style.removeProperty("display"),e.__x_is_shown=!0};if(l===!0){n?v():f();return}let d=(_,O)=>{n?((e.style.display==="none"||e.__x_transition)&&oe(e,()=>{v()},O,i),_(()=>{})):e.style.display!=="none"?ue(e,()=>{_(()=>{f()})},O,i):_(()=>{})};if(a.includes("immediate")){d(_=>_(),()=>{});return}i.showDirectiveLastElement&&!i.showDirectiveLastElement.contains(e)&&i.executeAndClearRemainingShowDirectiveStack(),i.showDirectiveStack.push(d),i.showDirectiveLastElement=e}function je(i,e,n,a,l){g(e,"x-if");let f=e.nextElementSibling&&e.nextElementSibling.__x_inserted_me===!0;if(n&&(!f||e.__x_transition)){let v=document.importNode(e.content,!0);e.parentElement.insertBefore(v,e.nextElementSibling),oe(e.nextElementSibling,()=>{},()=>{},i,a),i.initializeElements(e.nextElementSibling,l),e.nextElementSibling.__x_inserted_me=!0}else!n&&f&&ue(e.nextElementSibling,()=>{e.nextElementSibling.remove()},()=>{},i,a)}function Ce(i,e,n,a,l,f={}){let v={passive:a.includes("passive")};a.includes("camel")&&(n=m(n));let d,_;if(a.includes("away")?(_=document,d=O=>{e.contains(O.target)||e.offsetWidth<1&&e.offsetHeight<1||(Y(i,l,O,f),a.includes("once")&&document.removeEventListener(n,d,v))}):(_=a.includes("window")?window:a.includes("document")?document:e,d=O=>{if((_===window||_===document)&&!document.body.contains(e)){_.removeEventListener(n,d,v);return}Re(n)&&Ne(O,a)||(a.includes("prevent")&&O.preventDefault(),a.includes("stop")&&O.stopPropagation(),(!a.includes("self")||O.target===e)&&Y(i,l,O,f).then(B=>{B===!1?O.preventDefault():a.includes("once")&&_.removeEventListener(n,d,v)}))}),a.includes("debounce")){let O=a[a.indexOf("debounce")+1]||"invalid-wait",R=w(O.split("ms")[0])?Number(O.split("ms")[0]):250;d=A(d,R)}_.addEventListener(n,d,v)}function Y(i,e,n,a){return i.evaluateCommandExpression(n.target,e,()=>s(s({},a()),{},{$event:n}))}function Re(i){return["keydown","keyup"].includes(i)}function Ne(i,e){let n=e.filter(f=>!["window","document","prevent","stop"].includes(f));if(n.includes("debounce")){let f=n.indexOf("debounce");n.splice(f,w((n[f+1]||"invalid-wait").split("ms")[0])?2:1)}if(n.length===0||n.length===1&&n[0]===Ae(i.key))return!1;let l=["ctrl","shift","alt","meta","cmd","super"].filter(f=>n.includes(f));return n=n.filter(f=>!l.includes(f)),!(l.length>0&&l.filter(v=>((v==="cmd"||v==="super")&&(v="meta"),i[`${v}Key`])).length===l.length&&n[0]===Ae(i.key))}function Ae(i){switch(i){case"/":return"slash";case" ":case"Spacebar":return"space";default:return i&&E(i)}}function Me(i,e,n,a,l){var f=e.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(e.type)||n.includes("lazy")?"change":"input";let v=`${a} = rightSideOfExpression($event, ${a})`;Ce(i,e,f,n,v,()=>s(s({},l()),{},{rightSideOfExpression:Be(e,n,a)}))}function Be(i,e,n){return i.type==="radio"&&(i.hasAttribute("name")||i.setAttribute("name",n)),(a,l)=>{if(a instanceof CustomEvent&&a.detail)return a.detail;if(i.type==="checkbox")if(Array.isArray(l)){let f=e.includes("number")?Te(a.target.value):a.target.value;return a.target.checked?l.concat([f]):l.filter(v=>!h(v,f))}else return a.target.checked;else{if(i.tagName.toLowerCase()==="select"&&i.multiple)return e.includes("number")?Array.from(a.target.selectedOptions).map(f=>{let v=f.value||f.text;return Te(v)}):Array.from(a.target.selectedOptions).map(f=>f.value||f.text);{let f=a.target.value;return e.includes("number")?Te(f):e.includes("trim")?f.trim():f}}}}function Te(i){let e=i?parseFloat(i):null;return w(e)?e:i}let{isArray:xe}=Array,{getPrototypeOf:ke,create:Ve,defineProperty:fe,defineProperties:b,isExtensible:C,getOwnPropertyDescriptor:F,getOwnPropertyNames:W,getOwnPropertySymbols:H,preventExtensions:K,hasOwnProperty:Z}=Object,{push:ve,concat:de,map:ye}=Array.prototype;function ee(i){return i===void 0}function pe(i){return typeof i=="function"}function se(i){return typeof i=="object"}let Je=new WeakMap;function Xe(i,e){Je.set(i,e)}let Se=i=>Je.get(i)||i;function We(i,e){return i.valueIsObservable(e)?i.getProxy(e):e}function ft(i){return Z.call(i,"value")&&(i.value=Se(i.value)),i}function Ye(i,e,n){de.call(W(n),H(n)).forEach(l=>{let f=F(n,l);f.configurable||(f=Fe(i,f,We)),fe(e,l,f)}),K(e)}class dt{constructor(e,n){this.originalTarget=n,this.membrane=e}get(e,n){let{originalTarget:a,membrane:l}=this,f=a[n],{valueObserved:v}=l;return v(a,n),l.getProxy(f)}set(e,n,a){let{originalTarget:l,membrane:{valueMutated:f}}=this;return l[n]!==a?(l[n]=a,f(l,n)):n==="length"&&xe(l)&&f(l,n),!0}deleteProperty(e,n){let{originalTarget:a,membrane:{valueMutated:l}}=this;return delete a[n],l(a,n),!0}apply(e,n,a){}construct(e,n,a){}has(e,n){let{originalTarget:a,membrane:{valueObserved:l}}=this;return l(a,n),n in a}ownKeys(e){let{originalTarget:n}=this;return de.call(W(n),H(n))}isExtensible(e){let n=C(e);if(!n)return n;let{originalTarget:a,membrane:l}=this,f=C(a);return f||Ye(l,e,a),f}setPrototypeOf(e,n){}getPrototypeOf(e){let{originalTarget:n}=this;return ke(n)}getOwnPropertyDescriptor(e,n){let{originalTarget:a,membrane:l}=this,{valueObserved:f}=this.membrane;f(a,n);let v=F(a,n);if(ee(v))return v;let d=F(e,n);return ee(d)?(v=Fe(l,v,We),v.configurable||fe(e,n,v),v):d}preventExtensions(e){let{originalTarget:n,membrane:a}=this;return Ye(a,e,n),K(n),!0}defineProperty(e,n,a){let{originalTarget:l,membrane:f}=this,{valueMutated:v}=f,{configurable:d}=a;if(Z.call(a,"writable")&&!Z.call(a,"value")){let _=F(l,n);a.value=_.value}return fe(l,n,ft(a)),d===!1&&fe(e,n,Fe(f,a,We)),v(l,n),!0}}function ht(i,e){return i.valueIsObservable(e)?i.getReadOnlyProxy(e):e}class pt{constructor(e,n){this.originalTarget=n,this.membrane=e}get(e,n){let{membrane:a,originalTarget:l}=this,f=l[n],{valueObserved:v}=a;return v(l,n),a.getReadOnlyProxy(f)}set(e,n,a){return!1}deleteProperty(e,n){return!1}apply(e,n,a){}construct(e,n,a){}has(e,n){let{originalTarget:a,membrane:{valueObserved:l}}=this;return l(a,n),n in a}ownKeys(e){let{originalTarget:n}=this;return de.call(W(n),H(n))}setPrototypeOf(e,n){}getOwnPropertyDescriptor(e,n){let{originalTarget:a,membrane:l}=this,{valueObserved:f}=l;f(a,n);let v=F(a,n);if(ee(v))return v;let d=F(e,n);return ee(d)?(v=Fe(l,v,ht),Z.call(v,"set")&&(v.set=void 0),v.configurable||fe(e,n,v),v):d}preventExtensions(e){return!1}defineProperty(e,n,a){return!1}}function Ze(i){let e;return xe(i)?e=[]:se(i)&&(e={}),e}let vt=Object.prototype;function et(i){if(i===null||typeof i!="object")return!1;if(xe(i))return!0;let e=ke(i);return e===vt||e===null||ke(e)===null}let tt=(i,e)=>{},rt=(i,e)=>{},nt=i=>i;function Fe(i,e,n){let{set:a,get:l}=e;return Z.call(e,"value")?e.value=n(i,e.value):(ee(l)||(e.get=function(){return n(i,l.call(Se(this)))}),ee(a)||(e.set=function(f){a.call(Se(this),i.unwrapProxy(f))})),e}class yt{constructor(e){if(this.valueDistortion=nt,this.valueMutated=rt,this.valueObserved=tt,this.valueIsObservable=et,this.objectGraph=new WeakMap,!ee(e)){let{valueDistortion:n,valueMutated:a,valueObserved:l,valueIsObservable:f}=e;this.valueDistortion=pe(n)?n:nt,this.valueMutated=pe(a)?a:rt,this.valueObserved=pe(l)?l:tt,this.valueIsObservable=pe(f)?f:et}}getProxy(e){let n=Se(e),a=this.valueDistortion(n);if(this.valueIsObservable(a)){let l=this.getReactiveState(n,a);return l.readOnly===e?e:l.reactive}return a}getReadOnlyProxy(e){e=Se(e);let n=this.valueDistortion(e);return this.valueIsObservable(n)?this.getReactiveState(e,n).readOnly:n}unwrapProxy(e){return Se(e)}getReactiveState(e,n){let{objectGraph:a}=this,l=a.get(n);if(l)return l;let f=this;return l={get reactive(){let v=new dt(f,n),d=new Proxy(Ze(n),v);return Xe(d,e),fe(this,"reactive",{value:d}),d},get readOnly(){let v=new pt(f,n),d=new Proxy(Ze(n),v);return Xe(d,e),fe(this,"readOnly",{value:d}),d}},a.set(n,l),l}}function gt(i,e){let n=new yt({valueMutated(a,l){e(a,l)}});return{data:n.getProxy(i),membrane:n}}function mt(i,e){let n=i.unwrapProxy(e),a={};return Object.keys(n).forEach(l=>{["$el","$refs","$nextTick","$watch"].includes(l)||(a[l]=n[l])}),a}class Oe{constructor(e,n=null){this.$el=e;let a=this.$el.getAttribute("x-data"),l=a===""?"{}":a,f=this.$el.getAttribute("x-init"),v={$el:this.$el},d=n?n.$el:this.$el;Object.entries(we.magicProperties).forEach(([B,N])=>{Object.defineProperty(v,`$${B}`,{get:function(){return N(d)}})}),this.unobservedData=n?n.getUnobservedData():D(e,l,v);let{membrane:_,data:O}=this.wrapDataInObservable(this.unobservedData);this.$data=O,this.membrane=_,this.unobservedData.$el=this.$el,this.unobservedData.$refs=this.getRefsProxy(),this.nextTickStack=[],this.unobservedData.$nextTick=B=>{this.nextTickStack.push(B)},this.watchers={},this.unobservedData.$watch=(B,N)=>{this.watchers[B]||(this.watchers[B]=[]),this.watchers[B].push(N)},Object.entries(we.magicProperties).forEach(([B,N])=>{Object.defineProperty(this.unobservedData,`$${B}`,{get:function(){return N(d,this.$el)}})}),this.showDirectiveStack=[],this.showDirectiveLastElement,n||we.onBeforeComponentInitializeds.forEach(B=>B(this));var R;f&&!n&&(this.pauseReactivity=!0,R=this.evaluateReturnExpression(this.$el,f),this.pauseReactivity=!1),this.initializeElements(this.$el,()=>{},n),this.listenForNewElementsToInitialize(),typeof R=="function"&&R.call(this.$data),n||setTimeout(()=>{we.onComponentInitializeds.forEach(B=>B(this))},0)}getUnobservedData(){return mt(this.membrane,this.$data)}wrapDataInObservable(e){var n=this;let a=A(function(){n.updateElements(n.$el)},0);return gt(e,(l,f)=>{n.watchers[f]?n.watchers[f].forEach(v=>v(l[f])):Array.isArray(l)?Object.keys(n.watchers).forEach(v=>{let d=v.split(".");f!=="length"&&d.reduce((_,O)=>(Object.is(l,_[O])&&n.watchers[v].forEach(R=>R(l)),_[O]),n.unobservedData)}):Object.keys(n.watchers).filter(v=>v.includes(".")).forEach(v=>{let d=v.split(".");f===d[d.length-1]&&d.reduce((_,O)=>(Object.is(l,_)&&n.watchers[v].forEach(R=>R(l[f])),_[O]),n.unobservedData)}),!n.pauseReactivity&&a()})}walkAndSkipNestedComponents(e,n,a=()=>{}){S(e,l=>l.hasAttribute("x-data")&&!l.isSameNode(this.$el)?(l.__x||a(l),!1):n(l))}initializeElements(e,n=()=>{},a=!1){this.walkAndSkipNestedComponents(e,l=>{if(l.__x_for_key!==void 0||l.__x_inserted_me!==void 0)return!1;this.initializeElement(l,n,!a)},l=>{a||(l.__x=new Oe(l))}),this.executeAndClearRemainingShowDirectiveStack(),this.executeAndClearNextTickStack(e)}initializeElement(e,n,a=!0){e.hasAttribute("class")&&j(e,this).length>0&&(e.__x_original_classes=U(e.getAttribute("class"))),a&&this.registerListeners(e,n),this.resolveBoundAttributes(e,!0,n)}updateElements(e,n=()=>{}){this.walkAndSkipNestedComponents(e,a=>{if(a.__x_for_key!==void 0&&!a.isSameNode(this.$el))return!1;this.updateElement(a,n)},a=>{a.__x=new Oe(a)}),this.executeAndClearRemainingShowDirectiveStack(),this.executeAndClearNextTickStack(e)}executeAndClearNextTickStack(e){e===this.$el&&this.nextTickStack.length>0&&requestAnimationFrame(()=>{for(;this.nextTickStack.length>0;)this.nextTickStack.shift()()})}executeAndClearRemainingShowDirectiveStack(){this.showDirectiveStack.reverse().map(e=>new Promise((n,a)=>{e(n,a)})).reduce((e,n)=>e.then(()=>n.then(a=>{a()})),Promise.resolve(()=>{})).catch(e=>{if(e!==re)throw e}),this.showDirectiveStack=[],this.showDirectiveLastElement=void 0}updateElement(e,n){this.resolveBoundAttributes(e,!1,n)}registerListeners(e,n){j(e,this).forEach(({type:a,value:l,modifiers:f,expression:v})=>{switch(a){case"on":Ce(this,e,l,f,v,n);break;case"model":Me(this,e,f,v,n);break}})}resolveBoundAttributes(e,n=!1,a){let l=j(e,this);l.forEach(({type:f,value:v,modifiers:d,expression:_})=>{switch(f){case"model":Qe(this,e,"value",_,a,f,d);break;case"bind":if(e.tagName.toLowerCase()==="template"&&v==="key")return;Qe(this,e,v,_,a,f,d);break;case"text":var O=this.evaluateReturnExpression(e,_,a);Ee(e,O,_);break;case"html":Ie(this,e,_,a);break;case"show":var O=this.evaluateReturnExpression(e,_,a);ze(this,e,O,d,n);break;case"if":if(l.some(R=>R.type==="for"))return;var O=this.evaluateReturnExpression(e,_,a);je(this,e,O,n,a);break;case"for":z(this,e,_,n,a);break;case"cloak":e.removeAttribute("x-cloak");break}})}evaluateReturnExpression(e,n,a=()=>{}){return D(e,n,this.$data,s(s({},a()),{},{$dispatch:this.getDispatchFunction(e)}))}evaluateCommandExpression(e,n,a=()=>{}){return q(e,n,this.$data,s(s({},a()),{},{$dispatch:this.getDispatchFunction(e)}))}getDispatchFunction(e){return(n,a={})=>{e.dispatchEvent(new CustomEvent(n,{detail:a,bubbles:!0}))}}listenForNewElementsToInitialize(){let e=this.$el,n={childList:!0,attributes:!0,subtree:!0};new MutationObserver(l=>{for(let f=0;f<l.length;f++){let v=l[f].target.closest("[x-data]");if(!!(v&&v.isSameNode(this.$el))){if(l[f].type==="attributes"&&l[f].attributeName==="x-data"){let d=l[f].target.getAttribute("x-data")||"{}",_=D(this.$el,d,{$el:this.$el});Object.keys(_).forEach(O=>{this.$data[O]!==_[O]&&(this.$data[O]=_[O])})}l[f].addedNodes.length>0&&l[f].addedNodes.forEach(d=>{if(!(d.nodeType!==1||d.__x_inserted_me)){if(d.matches("[x-data]")&&!d.__x){d.__x=new Oe(d);return}this.initializeElements(d)}})}}}).observe(e,n)}getRefsProxy(){var e=this,n={};return new Proxy(n,{get(a,l){if(l==="$isAlpineProxy")return!0;var f;return e.walkAndSkipNestedComponents(e.$el,v=>{v.hasAttribute("x-ref")&&v.getAttribute("x-ref")===l&&(f=v)}),f}})}}let we={version:"2.8.2",pauseMutationObserver:!1,magicProperties:{},onComponentInitializeds:[],onBeforeComponentInitializeds:[],ignoreFocusedForValueBinding:!1,start:async function(){u()||await o(),this.discoverComponents(e=>{this.initializeComponent(e)}),document.addEventListener("turbolinks:load",()=>{this.discoverUninitializedComponents(e=>{this.initializeComponent(e)})}),this.listenForNewUninitializedComponentsAtRunTime()},discoverComponents:function(e){document.querySelectorAll("[x-data]").forEach(a=>{e(a)})},discoverUninitializedComponents:function(e,n=null){let a=(n||document).querySelectorAll("[x-data]");Array.from(a).filter(l=>l.__x===void 0).forEach(l=>{e(l)})},listenForNewUninitializedComponentsAtRunTime:function(){let e=document.querySelector("body"),n={childList:!0,attributes:!0,subtree:!0};new MutationObserver(l=>{if(!this.pauseMutationObserver)for(let f=0;f<l.length;f++)l[f].addedNodes.length>0&&l[f].addedNodes.forEach(v=>{v.nodeType===1&&(v.parentElement&&v.parentElement.closest("[x-data]")||this.discoverUninitializedComponents(d=>{this.initializeComponent(d)},v.parentElement))})}).observe(e,n)},initializeComponent:function(e){if(!e.__x)try{e.__x=new Oe(e)}catch(n){setTimeout(()=>{throw n},0)}},clone:function(e,n){n.__x||(n.__x=new Oe(n,e))},addMagicProperty:function(e,n){this.magicProperties[e]=n},onComponentInitialized:function(e){this.onComponentInitializeds.push(e)},onBeforeComponentInitialized:function(e){this.onBeforeComponentInitializeds.push(e)}};return u()||(window.Alpine=we,window.deferLoadingAlpine?window.deferLoadingAlpine(function(){window.Alpine.start()}):window.Alpine.start()),we})});var lt=Ue((ot,ut)=>{(function(){var r=function(t){var s=new r.Builder;return s.pipeline.add(r.trimmer,r.stopWordFilter,r.stemmer),s.searchPipeline.add(r.stemmer),t.call(s,s),s.build()};r.version="2.3.9";r.utils={},r.utils.warn=function(t){return function(s){t.console&&console.warn&&console.warn(s)}}(this),r.utils.asString=function(t){return t==null?"":t.toString()},r.utils.clone=function(t){if(t==null)return t;for(var s=Object.create(null),o=Object.keys(t),c=0;c<o.length;c++){var u=o[c],h=t[u];if(Array.isArray(h)){s[u]=h.slice();continue}if(typeof h=="string"||typeof h=="number"||typeof h=="boolean"){s[u]=h;continue}throw new TypeError("clone is not deep and does not support nested objects")}return s},r.FieldRef=function(t,s,o){this.docRef=t,this.fieldName=s,this._stringValue=o},r.FieldRef.joiner="/",r.FieldRef.fromString=function(t){var s=t.indexOf(r.FieldRef.joiner);if(s===-1)throw"malformed field ref string";var o=t.slice(0,s),c=t.slice(s+1);return new r.FieldRef(c,o,t)},r.FieldRef.prototype.toString=function(){return this._stringValue==null&&(this._stringValue=this.fieldName+r.FieldRef.joiner+this.docRef),this._stringValue};r.Set=function(t){if(this.elements=Object.create(null),t){this.length=t.length;for(var s=0;s<this.length;s++)this.elements[t[s]]=!0}else this.length=0},r.Set.complete={intersect:function(t){return t},union:function(){return this},contains:function(){return!0}},r.Set.empty={intersect:function(){return this},union:function(t){return t},contains:function(){return!1}},r.Set.prototype.contains=function(t){return!!this.elements[t]},r.Set.prototype.intersect=function(t){var s,o,c,u=[];if(t===r.Set.complete)return this;if(t===r.Set.empty)return t;this.length<t.length?(s=this,o=t):(s=t,o=this),c=Object.keys(s.elements);for(var h=0;h<c.length;h++){var g=c[h];g in o.elements&&u.push(g)}return new r.Set(u)},r.Set.prototype.union=function(t){return t===r.Set.complete?r.Set.complete:t===r.Set.empty?this:new r.Set(Object.keys(this.elements).concat(Object.keys(t.elements)))},r.idf=function(t,s){var o=0;for(var c in t)c!="_index"&&(o+=Object.keys(t[c]).length);var u=(s-o+.5)/(o+.5);return Math.log(1+Math.abs(u))},r.Token=function(t,s){this.str=t||"",this.metadata=s||{}},r.Token.prototype.toString=function(){return this.str},r.Token.prototype.update=function(t){return this.str=t(this.str,this.metadata),this},r.Token.prototype.clone=function(t){return t=t||function(s){return s},new r.Token(t(this.str,this.metadata),this.metadata)};r.tokenizer=function(t,s){if(t==null||t==null)return[];if(Array.isArray(t))return t.map(function(A){return new r.Token(r.utils.asString(A).toLowerCase(),r.utils.clone(s))});for(var o=t.toString().toLowerCase(),c=o.length,u=[],h=0,g=0;h<=c;h++){var E=o.charAt(h),m=h-g;if(E.match(r.tokenizer.separator)||h==c){if(m>0){var S=r.utils.clone(s)||{};S.position=[g,m],S.index=u.length,u.push(new r.Token(o.slice(g,h),S))}g=h+1}}return u},r.tokenizer.separator=/[\s\-]+/;r.Pipeline=function(){this._stack=[]},r.Pipeline.registeredFunctions=Object.create(null),r.Pipeline.registerFunction=function(t,s){s in this.registeredFunctions&&r.utils.warn("Overwriting existing registered function: "+s),t.label=s,r.Pipeline.registeredFunctions[t.label]=t},r.Pipeline.warnIfFunctionNotRegistered=function(t){var s=t.label&&t.label in this.registeredFunctions;s||r.utils.warn(`Function is not registered with pipeline. This may cause problems when serialising the index.
`,t)},r.Pipeline.load=function(t){var s=new r.Pipeline;return t.forEach(function(o){var c=r.Pipeline.registeredFunctions[o];if(c)s.add(c);else throw new Error("Cannot load unregistered function: "+o)}),s},r.Pipeline.prototype.add=function(){var t=Array.prototype.slice.call(arguments);t.forEach(function(s){r.Pipeline.warnIfFunctionNotRegistered(s),this._stack.push(s)},this)},r.Pipeline.prototype.after=function(t,s){r.Pipeline.warnIfFunctionNotRegistered(s);var o=this._stack.indexOf(t);if(o==-1)throw new Error("Cannot find existingFn");o=o+1,this._stack.splice(o,0,s)},r.Pipeline.prototype.before=function(t,s){r.Pipeline.warnIfFunctionNotRegistered(s);var o=this._stack.indexOf(t);if(o==-1)throw new Error("Cannot find existingFn");this._stack.splice(o,0,s)},r.Pipeline.prototype.remove=function(t){var s=this._stack.indexOf(t);s!=-1&&this._stack.splice(s,1)},r.Pipeline.prototype.run=function(t){for(var s=this._stack.length,o=0;o<s;o++){for(var c=this._stack[o],u=[],h=0;h<t.length;h++){var g=c(t[h],h,t);if(!(g==null||g===""))if(Array.isArray(g))for(var E=0;E<g.length;E++)u.push(g[E]);else u.push(g)}t=u}return t},r.Pipeline.prototype.runString=function(t,s){var o=new r.Token(t,s);return this.run([o]).map(function(c){return c.toString()})},r.Pipeline.prototype.reset=function(){this._stack=[]},r.Pipeline.prototype.toJSON=function(){return this._stack.map(function(t){return r.Pipeline.warnIfFunctionNotRegistered(t),t.label})};r.Vector=function(t){this._magnitude=0,this.elements=t||[]},r.Vector.prototype.positionForIndex=function(t){if(this.elements.length==0)return 0;for(var s=0,o=this.elements.length/2,c=o-s,u=Math.floor(c/2),h=this.elements[u*2];c>1&&(h<t&&(s=u),h>t&&(o=u),h!=t);)c=o-s,u=s+Math.floor(c/2),h=this.elements[u*2];if(h==t||h>t)return u*2;if(h<t)return(u+1)*2},r.Vector.prototype.insert=function(t,s){this.upsert(t,s,function(){throw"duplicate index"})},r.Vector.prototype.upsert=function(t,s,o){this._magnitude=0;var c=this.positionForIndex(t);this.elements[c]==t?this.elements[c+1]=o(this.elements[c+1],s):this.elements.splice(c,0,t,s)},r.Vector.prototype.magnitude=function(){if(this._magnitude)return this._magnitude;for(var t=0,s=this.elements.length,o=1;o<s;o+=2){var c=this.elements[o];t+=c*c}return this._magnitude=Math.sqrt(t)},r.Vector.prototype.dot=function(t){for(var s=0,o=this.elements,c=t.elements,u=o.length,h=c.length,g=0,E=0,m=0,S=0;m<u&&S<h;)g=o[m],E=c[S],g<E?m+=2:g>E?S+=2:g==E&&(s+=o[m+1]*c[S+1],m+=2,S+=2);return s},r.Vector.prototype.similarity=function(t){return this.dot(t)/this.magnitude()||0},r.Vector.prototype.toArray=function(){for(var t=new Array(this.elements.length/2),s=1,o=0;s<this.elements.length;s+=2,o++)t[o]=this.elements[s];return t},r.Vector.prototype.toJSON=function(){return this.elements};r.stemmer=function(){var t={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},s={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""},o="[^aeiou]",c="[aeiouy]",u=o+"[^aeiouy]*",h=c+"[aeiou]*",g="^("+u+")?"+h+u,E="^("+u+")?"+h+u+"("+h+")?$",m="^("+u+")?"+h+u+h+u,S="^("+u+")?"+c,A=new RegExp(g),Q=new RegExp(m),V=new RegExp(E),D=new RegExp(S),q=/^(.+?)(ss|i)es$/,T=/^(.+?)([^s])s$/,I=/^(.+?)eed$/,j=/^(.+?)(ed|ing)$/,M=/.$/,X=/(at|bl|iz)$/,ce=new RegExp("([^aeiouylsz])\\1$"),ae=new RegExp("^"+u+c+"[^aeiouwxy]$"),U=/^(.+?[^aeiou])y$/,te=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/,he=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,re=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/,oe=/^(.+?)(s|t)(ion)$/,ue=/^(.+?)e$/,ge=/ll$/,me=new RegExp("^"+u+c+"[^aeiouwxy]$"),G=function(p){var y,P,k,x,w,$,z;if(p.length<3)return p;if(k=p.substr(0,1),k=="y"&&(p=k.toUpperCase()+p.substr(1)),x=q,w=T,x.test(p)?p=p.replace(x,"$1$2"):w.test(p)&&(p=p.replace(w,"$1$2")),x=I,w=j,x.test(p)){var L=x.exec(p);x=A,x.test(L[1])&&(x=M,p=p.replace(x,""))}else if(w.test(p)){var L=w.exec(p);y=L[1],w=D,w.test(y)&&(p=y,w=X,$=ce,z=ae,w.test(p)?p=p+"e":$.test(p)?(x=M,p=p.replace(x,"")):z.test(p)&&(p=p+"e"))}if(x=U,x.test(p)){var L=x.exec(p);y=L[1],p=y+"i"}if(x=te,x.test(p)){var L=x.exec(p);y=L[1],P=L[2],x=A,x.test(y)&&(p=y+t[P])}if(x=he,x.test(p)){var L=x.exec(p);y=L[1],P=L[2],x=A,x.test(y)&&(p=y+s[P])}if(x=re,w=oe,x.test(p)){var L=x.exec(p);y=L[1],x=Q,x.test(y)&&(p=y)}else if(w.test(p)){var L=w.exec(p);y=L[1]+L[2],w=Q,w.test(y)&&(p=y)}if(x=ue,x.test(p)){var L=x.exec(p);y=L[1],x=Q,w=V,$=me,(x.test(y)||w.test(y)&&!$.test(y))&&(p=y)}return x=ge,w=Q,x.test(p)&&w.test(p)&&(x=M,p=p.replace(x,"")),k=="y"&&(p=k.toLowerCase()+p.substr(1)),p};return function(ne){return ne.update(G)}}(),r.Pipeline.registerFunction(r.stemmer,"stemmer");r.generateStopWordFilter=function(t){var s=t.reduce(function(o,c){return o[c]=c,o},{});return function(o){if(o&&s[o.toString()]!==o.toString())return o}},r.stopWordFilter=r.generateStopWordFilter(["a","able","about","across","after","all","almost","also","am","among","an","and","any","are","as","at","be","because","been","but","by","can","cannot","could","dear","did","do","does","either","else","ever","every","for","from","get","got","had","has","have","he","her","hers","him","his","how","however","i","if","in","into","is","it","its","just","least","let","like","likely","may","me","might","most","must","my","neither","no","nor","not","of","off","often","on","only","or","other","our","own","rather","said","say","says","she","should","since","so","some","than","that","the","their","them","then","there","these","they","this","tis","to","too","twas","us","wants","was","we","were","what","when","where","which","while","who","whom","why","will","with","would","yet","you","your"]),r.Pipeline.registerFunction(r.stopWordFilter,"stopWordFilter");r.trimmer=function(t){return t.update(function(s){return s.replace(/^\W+/,"").replace(/\W+$/,"")})},r.Pipeline.registerFunction(r.trimmer,"trimmer");r.TokenSet=function(){this.final=!1,this.edges={},this.id=r.TokenSet._nextId,r.TokenSet._nextId+=1},r.TokenSet._nextId=1,r.TokenSet.fromArray=function(t){for(var s=new r.TokenSet.Builder,o=0,c=t.length;o<c;o++)s.insert(t[o]);return s.finish(),s.root},r.TokenSet.fromClause=function(t){return"editDistance"in t?r.TokenSet.fromFuzzyString(t.term,t.editDistance):r.TokenSet.fromString(t.term)},r.TokenSet.fromFuzzyString=function(t,s){for(var o=new r.TokenSet,c=[{node:o,editsRemaining:s,str:t}];c.length;){var u=c.pop();if(u.str.length>0){var h=u.str.charAt(0),g;h in u.node.edges?g=u.node.edges[h]:(g=new r.TokenSet,u.node.edges[h]=g),u.str.length==1&&(g.final=!0),c.push({node:g,editsRemaining:u.editsRemaining,str:u.str.slice(1)})}if(u.editsRemaining!=0){if("*"in u.node.edges)var E=u.node.edges["*"];else{var E=new r.TokenSet;u.node.edges["*"]=E}if(u.str.length==0&&(E.final=!0),c.push({node:E,editsRemaining:u.editsRemaining-1,str:u.str}),u.str.length>1&&c.push({node:u.node,editsRemaining:u.editsRemaining-1,str:u.str.slice(1)}),u.str.length==1&&(u.node.final=!0),u.str.length>=1){if("*"in u.node.edges)var m=u.node.edges["*"];else{var m=new r.TokenSet;u.node.edges["*"]=m}u.str.length==1&&(m.final=!0),c.push({node:m,editsRemaining:u.editsRemaining-1,str:u.str.slice(1)})}if(u.str.length>1){var S=u.str.charAt(0),A=u.str.charAt(1),Q;A in u.node.edges?Q=u.node.edges[A]:(Q=new r.TokenSet,u.node.edges[A]=Q),u.str.length==1&&(Q.final=!0),c.push({node:Q,editsRemaining:u.editsRemaining-1,str:S+u.str.slice(2)})}}}return o},r.TokenSet.fromString=function(t){for(var s=new r.TokenSet,o=s,c=0,u=t.length;c<u;c++){var h=t[c],g=c==u-1;if(h=="*")s.edges[h]=s,s.final=g;else{var E=new r.TokenSet;E.final=g,s.edges[h]=E,s=E}}return o},r.TokenSet.prototype.toArray=function(){for(var t=[],s=[{prefix:"",node:this}];s.length;){var o=s.pop(),c=Object.keys(o.node.edges),u=c.length;o.node.final&&(o.prefix.charAt(0),t.push(o.prefix));for(var h=0;h<u;h++){var g=c[h];s.push({prefix:o.prefix.concat(g),node:o.node.edges[g]})}}return t},r.TokenSet.prototype.toString=function(){if(this._str)return this._str;for(var t=this.final?"1":"0",s=Object.keys(this.edges).sort(),o=s.length,c=0;c<o;c++){var u=s[c],h=this.edges[u];t=t+u+h.id}return t},r.TokenSet.prototype.intersect=function(t){for(var s=new r.TokenSet,o=void 0,c=[{qNode:t,output:s,node:this}];c.length;){o=c.pop();for(var u=Object.keys(o.qNode.edges),h=u.length,g=Object.keys(o.node.edges),E=g.length,m=0;m<h;m++)for(var S=u[m],A=0;A<E;A++){var Q=g[A];if(Q==S||S=="*"){var V=o.node.edges[Q],D=o.qNode.edges[S],q=V.final&&D.final,T=void 0;Q in o.output.edges?(T=o.output.edges[Q],T.final=T.final||q):(T=new r.TokenSet,T.final=q,o.output.edges[Q]=T),c.push({qNode:D,output:T,node:V})}}}return s},r.TokenSet.Builder=function(){this.previousWord="",this.root=new r.TokenSet,this.uncheckedNodes=[],this.minimizedNodes={}},r.TokenSet.Builder.prototype.insert=function(t){var s,o=0;if(t<this.previousWord)throw new Error("Out of order word insertion");for(var c=0;c<t.length&&c<this.previousWord.length&&t[c]==this.previousWord[c];c++)o++;this.minimize(o),this.uncheckedNodes.length==0?s=this.root:s=this.uncheckedNodes[this.uncheckedNodes.length-1].child;for(var c=o;c<t.length;c++){var u=new r.TokenSet,h=t[c];s.edges[h]=u,this.uncheckedNodes.push({parent:s,char:h,child:u}),s=u}s.final=!0,this.previousWord=t},r.TokenSet.Builder.prototype.finish=function(){this.minimize(0)},r.TokenSet.Builder.prototype.minimize=function(t){for(var s=this.uncheckedNodes.length-1;s>=t;s--){var o=this.uncheckedNodes[s],c=o.child.toString();c in this.minimizedNodes?o.parent.edges[o.char]=this.minimizedNodes[c]:(o.child._str=c,this.minimizedNodes[c]=o.child),this.uncheckedNodes.pop()}};r.Index=function(t){this.invertedIndex=t.invertedIndex,this.fieldVectors=t.fieldVectors,this.tokenSet=t.tokenSet,this.fields=t.fields,this.pipeline=t.pipeline},r.Index.prototype.search=function(t){return this.query(function(s){var o=new r.QueryParser(t,s);o.parse()})},r.Index.prototype.query=function(t){for(var s=new r.Query(this.fields),o=Object.create(null),c=Object.create(null),u=Object.create(null),h=Object.create(null),g=Object.create(null),E=0;E<this.fields.length;E++)c[this.fields[E]]=new r.Vector;t.call(s,s);for(var E=0;E<s.clauses.length;E++){var m=s.clauses[E],S=null,A=r.Set.empty;m.usePipeline?S=this.pipeline.runString(m.term,{fields:m.fields}):S=[m.term];for(var Q=0;Q<S.length;Q++){var V=S[Q];m.term=V;var D=r.TokenSet.fromClause(m),q=this.tokenSet.intersect(D).toArray();if(q.length===0&&m.presence===r.Query.presence.REQUIRED){for(var T=0;T<m.fields.length;T++){var I=m.fields[T];h[I]=r.Set.empty}break}for(var j=0;j<q.length;j++)for(var M=q[j],X=this.invertedIndex[M],ce=X._index,T=0;T<m.fields.length;T++){var I=m.fields[T],ae=X[I],U=Object.keys(ae),te=M+"/"+I,he=new r.Set(U);if(m.presence==r.Query.presence.REQUIRED&&(A=A.union(he),h[I]===void 0&&(h[I]=r.Set.complete)),m.presence==r.Query.presence.PROHIBITED){g[I]===void 0&&(g[I]=r.Set.empty),g[I]=g[I].union(he);continue}if(c[I].upsert(ce,m.boost,function(Le,Pe){return Le+Pe}),!u[te]){for(var re=0;re<U.length;re++){var oe=U[re],ue=new r.FieldRef(oe,I),ge=ae[oe],me;(me=o[ue])===void 0?o[ue]=new r.MatchData(M,I,ge):me.add(M,I,ge)}u[te]=!0}}}if(m.presence===r.Query.presence.REQUIRED)for(var T=0;T<m.fields.length;T++){var I=m.fields[T];h[I]=h[I].intersect(A)}}for(var G=r.Set.complete,ne=r.Set.empty,E=0;E<this.fields.length;E++){var I=this.fields[E];h[I]&&(G=G.intersect(h[I])),g[I]&&(ne=ne.union(g[I]))}var p=Object.keys(o),y=[],P=Object.create(null);if(s.isNegated()){p=Object.keys(this.fieldVectors);for(var E=0;E<p.length;E++){var ue=p[E],k=r.FieldRef.fromString(ue);o[ue]=new r.MatchData}}for(var E=0;E<p.length;E++){var k=r.FieldRef.fromString(p[E]),x=k.docRef;if(!!G.contains(x)&&!ne.contains(x)){var w=this.fieldVectors[k],$=c[k.fieldName].similarity(w),z;if((z=P[x])!==void 0)z.score+=$,z.matchData.combine(o[k]);else{var L={ref:x,score:$,matchData:o[k]};P[x]=L,y.push(L)}}}return y.sort(function(J,ie){return ie.score-J.score})},r.Index.prototype.toJSON=function(){var t=Object.keys(this.invertedIndex).sort().map(function(o){return[o,this.invertedIndex[o]]},this),s=Object.keys(this.fieldVectors).map(function(o){return[o,this.fieldVectors[o].toJSON()]},this);return{version:r.version,fields:this.fields,fieldVectors:s,invertedIndex:t,pipeline:this.pipeline.toJSON()}},r.Index.load=function(t){var s={},o={},c=t.fieldVectors,u=Object.create(null),h=t.invertedIndex,g=new r.TokenSet.Builder,E=r.Pipeline.load(t.pipeline);t.version!=r.version&&r.utils.warn("Version mismatch when loading serialised index. Current version of lunr '"+r.version+"' does not match serialized index '"+t.version+"'");for(var m=0;m<c.length;m++){var S=c[m],A=S[0],Q=S[1];o[A]=new r.Vector(Q)}for(var m=0;m<h.length;m++){var S=h[m],V=S[0],D=S[1];g.insert(V),u[V]=D}return g.finish(),s.fields=t.fields,s.fieldVectors=o,s.invertedIndex=u,s.tokenSet=g.root,s.pipeline=E,new r.Index(s)};r.Builder=function(){this._ref="id",this._fields=Object.create(null),this._documents=Object.create(null),this.invertedIndex=Object.create(null),this.fieldTermFrequencies={},this.fieldLengths={},this.tokenizer=r.tokenizer,this.pipeline=new r.Pipeline,this.searchPipeline=new r.Pipeline,this.documentCount=0,this._b=.75,this._k1=1.2,this.termIndex=0,this.metadataWhitelist=[]},r.Builder.prototype.ref=function(t){this._ref=t},r.Builder.prototype.field=function(t,s){if(/\//.test(t))throw new RangeError("Field '"+t+"' contains illegal character '/'");this._fields[t]=s||{}},r.Builder.prototype.b=function(t){t<0?this._b=0:t>1?this._b=1:this._b=t},r.Builder.prototype.k1=function(t){this._k1=t},r.Builder.prototype.add=function(t,s){var o=t[this._ref],c=Object.keys(this._fields);this._documents[o]=s||{},this.documentCount+=1;for(var u=0;u<c.length;u++){var h=c[u],g=this._fields[h].extractor,E=g?g(t):t[h],m=this.tokenizer(E,{fields:[h]}),S=this.pipeline.run(m),A=new r.FieldRef(o,h),Q=Object.create(null);this.fieldTermFrequencies[A]=Q,this.fieldLengths[A]=0,this.fieldLengths[A]+=S.length;for(var V=0;V<S.length;V++){var D=S[V];if(Q[D]==null&&(Q[D]=0),Q[D]+=1,this.invertedIndex[D]==null){var q=Object.create(null);q._index=this.termIndex,this.termIndex+=1;for(var T=0;T<c.length;T++)q[c[T]]=Object.create(null);this.invertedIndex[D]=q}this.invertedIndex[D][h][o]==null&&(this.invertedIndex[D][h][o]=Object.create(null));for(var I=0;I<this.metadataWhitelist.length;I++){var j=this.metadataWhitelist[I],M=D.metadata[j];this.invertedIndex[D][h][o][j]==null&&(this.invertedIndex[D][h][o][j]=[]),this.invertedIndex[D][h][o][j].push(M)}}}},r.Builder.prototype.calculateAverageFieldLengths=function(){for(var t=Object.keys(this.fieldLengths),s=t.length,o={},c={},u=0;u<s;u++){var h=r.FieldRef.fromString(t[u]),g=h.fieldName;c[g]||(c[g]=0),c[g]+=1,o[g]||(o[g]=0),o[g]+=this.fieldLengths[h]}for(var E=Object.keys(this._fields),u=0;u<E.length;u++){var m=E[u];o[m]=o[m]/c[m]}this.averageFieldLength=o},r.Builder.prototype.createFieldVectors=function(){for(var t={},s=Object.keys(this.fieldTermFrequencies),o=s.length,c=Object.create(null),u=0;u<o;u++){for(var h=r.FieldRef.fromString(s[u]),g=h.fieldName,E=this.fieldLengths[h],m=new r.Vector,S=this.fieldTermFrequencies[h],A=Object.keys(S),Q=A.length,V=this._fields[g].boost||1,D=this._documents[h.docRef].boost||1,q=0;q<Q;q++){var T=A[q],I=S[T],j=this.invertedIndex[T]._index,M,X,ce;c[T]===void 0?(M=r.idf(this.invertedIndex[T],this.documentCount),c[T]=M):M=c[T],X=M*((this._k1+1)*I)/(this._k1*(1-this._b+this._b*(E/this.averageFieldLength[g]))+I),X*=V,X*=D,ce=Math.round(X*1e3)/1e3,m.insert(j,ce)}t[h]=m}this.fieldVectors=t},r.Builder.prototype.createTokenSet=function(){this.tokenSet=r.TokenSet.fromArray(Object.keys(this.invertedIndex).sort())},r.Builder.prototype.build=function(){return this.calculateAverageFieldLengths(),this.createFieldVectors(),this.createTokenSet(),new r.Index({invertedIndex:this.invertedIndex,fieldVectors:this.fieldVectors,tokenSet:this.tokenSet,fields:Object.keys(this._fields),pipeline:this.searchPipeline})},r.Builder.prototype.use=function(t){var s=Array.prototype.slice.call(arguments,1);s.unshift(this),t.apply(this,s)},r.MatchData=function(t,s,o){for(var c=Object.create(null),u=Object.keys(o||{}),h=0;h<u.length;h++){var g=u[h];c[g]=o[g].slice()}this.metadata=Object.create(null),t!==void 0&&(this.metadata[t]=Object.create(null),this.metadata[t][s]=c)},r.MatchData.prototype.combine=function(t){for(var s=Object.keys(t.metadata),o=0;o<s.length;o++){var c=s[o],u=Object.keys(t.metadata[c]);this.metadata[c]==null&&(this.metadata[c]=Object.create(null));for(var h=0;h<u.length;h++){var g=u[h],E=Object.keys(t.metadata[c][g]);this.metadata[c][g]==null&&(this.metadata[c][g]=Object.create(null));for(var m=0;m<E.length;m++){var S=E[m];this.metadata[c][g][S]==null?this.metadata[c][g][S]=t.metadata[c][g][S]:this.metadata[c][g][S]=this.metadata[c][g][S].concat(t.metadata[c][g][S])}}}},r.MatchData.prototype.add=function(t,s,o){if(!(t in this.metadata)){this.metadata[t]=Object.create(null),this.metadata[t][s]=o;return}if(!(s in this.metadata[t])){this.metadata[t][s]=o;return}for(var c=Object.keys(o),u=0;u<c.length;u++){var h=c[u];h in this.metadata[t][s]?this.metadata[t][s][h]=this.metadata[t][s][h].concat(o[h]):this.metadata[t][s][h]=o[h]}},r.Query=function(t){this.clauses=[],this.allFields=t},r.Query.wildcard=new String("*"),r.Query.wildcard.NONE=0,r.Query.wildcard.LEADING=1,r.Query.wildcard.TRAILING=2,r.Query.presence={OPTIONAL:1,REQUIRED:2,PROHIBITED:3},r.Query.prototype.clause=function(t){return"fields"in t||(t.fields=this.allFields),"boost"in t||(t.boost=1),"usePipeline"in t||(t.usePipeline=!0),"wildcard"in t||(t.wildcard=r.Query.wildcard.NONE),t.wildcard&r.Query.wildcard.LEADING&&t.term.charAt(0)!=r.Query.wildcard&&(t.term="*"+t.term),t.wildcard&r.Query.wildcard.TRAILING&&t.term.slice(-1)!=r.Query.wildcard&&(t.term=""+t.term+"*"),"presence"in t||(t.presence=r.Query.presence.OPTIONAL),this.clauses.push(t),this},r.Query.prototype.isNegated=function(){for(var t=0;t<this.clauses.length;t++)if(this.clauses[t].presence!=r.Query.presence.PROHIBITED)return!1;return!0},r.Query.prototype.term=function(t,s){if(Array.isArray(t))return t.forEach(function(c){this.term(c,r.utils.clone(s))},this),this;var o=s||{};return o.term=t.toString(),this.clause(o),this},r.QueryParseError=function(t,s,o){this.name="QueryParseError",this.message=t,this.start=s,this.end=o},r.QueryParseError.prototype=new Error,r.QueryLexer=function(t){this.lexemes=[],this.str=t,this.length=t.length,this.pos=0,this.start=0,this.escapeCharPositions=[]},r.QueryLexer.prototype.run=function(){for(var t=r.QueryLexer.lexText;t;)t=t(this)},r.QueryLexer.prototype.sliceString=function(){for(var t=[],s=this.start,o=this.pos,c=0;c<this.escapeCharPositions.length;c++)o=this.escapeCharPositions[c],t.push(this.str.slice(s,o)),s=o+1;return t.push(this.str.slice(s,this.pos)),this.escapeCharPositions.length=0,t.join("")},r.QueryLexer.prototype.emit=function(t){this.lexemes.push({type:t,str:this.sliceString(),start:this.start,end:this.pos}),this.start=this.pos},r.QueryLexer.prototype.escapeCharacter=function(){this.escapeCharPositions.push(this.pos-1),this.pos+=1},r.QueryLexer.prototype.next=function(){if(this.pos>=this.length)return r.QueryLexer.EOS;var t=this.str.charAt(this.pos);return this.pos+=1,t},r.QueryLexer.prototype.width=function(){return this.pos-this.start},r.QueryLexer.prototype.ignore=function(){this.start==this.pos&&(this.pos+=1),this.start=this.pos},r.QueryLexer.prototype.backup=function(){this.pos-=1},r.QueryLexer.prototype.acceptDigitRun=function(){var t,s;do t=this.next(),s=t.charCodeAt(0);while(s>47&&s<58);t!=r.QueryLexer.EOS&&this.backup()},r.QueryLexer.prototype.more=function(){return this.pos<this.length},r.QueryLexer.EOS="EOS",r.QueryLexer.FIELD="FIELD",r.QueryLexer.TERM="TERM",r.QueryLexer.EDIT_DISTANCE="EDIT_DISTANCE",r.QueryLexer.BOOST="BOOST",r.QueryLexer.PRESENCE="PRESENCE",r.QueryLexer.lexField=function(t){return t.backup(),t.emit(r.QueryLexer.FIELD),t.ignore(),r.QueryLexer.lexText},r.QueryLexer.lexTerm=function(t){if(t.width()>1&&(t.backup(),t.emit(r.QueryLexer.TERM)),t.ignore(),t.more())return r.QueryLexer.lexText},r.QueryLexer.lexEditDistance=function(t){return t.ignore(),t.acceptDigitRun(),t.emit(r.QueryLexer.EDIT_DISTANCE),r.QueryLexer.lexText},r.QueryLexer.lexBoost=function(t){return t.ignore(),t.acceptDigitRun(),t.emit(r.QueryLexer.BOOST),r.QueryLexer.lexText},r.QueryLexer.lexEOS=function(t){t.width()>0&&t.emit(r.QueryLexer.TERM)},r.QueryLexer.termSeparator=r.tokenizer.separator,r.QueryLexer.lexText=function(t){for(;;){var s=t.next();if(s==r.QueryLexer.EOS)return r.QueryLexer.lexEOS;if(s.charCodeAt(0)==92){t.escapeCharacter();continue}if(s==":")return r.QueryLexer.lexField;if(s=="~")return t.backup(),t.width()>0&&t.emit(r.QueryLexer.TERM),r.QueryLexer.lexEditDistance;if(s=="^")return t.backup(),t.width()>0&&t.emit(r.QueryLexer.TERM),r.QueryLexer.lexBoost;if(s=="+"&&t.width()===1||s=="-"&&t.width()===1)return t.emit(r.QueryLexer.PRESENCE),r.QueryLexer.lexText;if(s.match(r.QueryLexer.termSeparator))return r.QueryLexer.lexTerm}},r.QueryParser=function(t,s){this.lexer=new r.QueryLexer(t),this.query=s,this.currentClause={},this.lexemeIdx=0},r.QueryParser.prototype.parse=function(){this.lexer.run(),this.lexemes=this.lexer.lexemes;for(var t=r.QueryParser.parseClause;t;)t=t(this);return this.query},r.QueryParser.prototype.peekLexeme=function(){return this.lexemes[this.lexemeIdx]},r.QueryParser.prototype.consumeLexeme=function(){var t=this.peekLexeme();return this.lexemeIdx+=1,t},r.QueryParser.prototype.nextClause=function(){var t=this.currentClause;this.query.clause(t),this.currentClause={}},r.QueryParser.parseClause=function(t){var s=t.peekLexeme();if(s!=null)switch(s.type){case r.QueryLexer.PRESENCE:return r.QueryParser.parsePresence;case r.QueryLexer.FIELD:return r.QueryParser.parseField;case r.QueryLexer.TERM:return r.QueryParser.parseTerm;default:var o="expected either a field or a term, found "+s.type;throw s.str.length>=1&&(o+=" with value '"+s.str+"'"),new r.QueryParseError(o,s.start,s.end)}},r.QueryParser.parsePresence=function(t){var s=t.consumeLexeme();if(s!=null){switch(s.str){case"-":t.currentClause.presence=r.Query.presence.PROHIBITED;break;case"+":t.currentClause.presence=r.Query.presence.REQUIRED;break;default:var o="unrecognised presence operator'"+s.str+"'";throw new r.QueryParseError(o,s.start,s.end)}var c=t.peekLexeme();if(c==null){var o="expecting term or field, found nothing";throw new r.QueryParseError(o,s.start,s.end)}switch(c.type){case r.QueryLexer.FIELD:return r.QueryParser.parseField;case r.QueryLexer.TERM:return r.QueryParser.parseTerm;default:var o="expecting term or field, found '"+c.type+"'";throw new r.QueryParseError(o,c.start,c.end)}}},r.QueryParser.parseField=function(t){var s=t.consumeLexeme();if(s!=null){if(t.query.allFields.indexOf(s.str)==-1){var o=t.query.allFields.map(function(h){return"'"+h+"'"}).join(", "),c="unrecognised field '"+s.str+"', possible fields: "+o;throw new r.QueryParseError(c,s.start,s.end)}t.currentClause.fields=[s.str];var u=t.peekLexeme();if(u==null){var c="expecting term, found nothing";throw new r.QueryParseError(c,s.start,s.end)}switch(u.type){case r.QueryLexer.TERM:return r.QueryParser.parseTerm;default:var c="expecting term, found '"+u.type+"'";throw new r.QueryParseError(c,u.start,u.end)}}},r.QueryParser.parseTerm=function(t){var s=t.consumeLexeme();if(s!=null){t.currentClause.term=s.str.toLowerCase(),s.str.indexOf("*")!=-1&&(t.currentClause.usePipeline=!1);var o=t.peekLexeme();if(o==null){t.nextClause();return}switch(o.type){case r.QueryLexer.TERM:return t.nextClause(),r.QueryParser.parseTerm;case r.QueryLexer.FIELD:return t.nextClause(),r.QueryParser.parseField;case r.QueryLexer.EDIT_DISTANCE:return r.QueryParser.parseEditDistance;case r.QueryLexer.BOOST:return r.QueryParser.parseBoost;case r.QueryLexer.PRESENCE:return t.nextClause(),r.QueryParser.parsePresence;default:var c="Unexpected lexeme type '"+o.type+"'";throw new r.QueryParseError(c,o.start,o.end)}}},r.QueryParser.parseEditDistance=function(t){var s=t.consumeLexeme();if(s!=null){var o=parseInt(s.str,10);if(isNaN(o)){var c="edit distance must be numeric";throw new r.QueryParseError(c,s.start,s.end)}t.currentClause.editDistance=o;var u=t.peekLexeme();if(u==null){t.nextClause();return}switch(u.type){case r.QueryLexer.TERM:return t.nextClause(),r.QueryParser.parseTerm;case r.QueryLexer.FIELD:return t.nextClause(),r.QueryParser.parseField;case r.QueryLexer.EDIT_DISTANCE:return r.QueryParser.parseEditDistance;case r.QueryLexer.BOOST:return r.QueryParser.parseBoost;case r.QueryLexer.PRESENCE:return t.nextClause(),r.QueryParser.parsePresence;default:var c="Unexpected lexeme type '"+u.type+"'";throw new r.QueryParseError(c,u.start,u.end)}}},r.QueryParser.parseBoost=function(t){var s=t.consumeLexeme();if(s!=null){var o=parseInt(s.str,10);if(isNaN(o)){var c="boost must be numeric";throw new r.QueryParseError(c,s.start,s.end)}t.currentClause.boost=o;var u=t.peekLexeme();if(u==null){t.nextClause();return}switch(u.type){case r.QueryLexer.TERM:return t.nextClause(),r.QueryParser.parseTerm;case r.QueryLexer.FIELD:return t.nextClause(),r.QueryParser.parseField;case r.QueryLexer.EDIT_DISTANCE:return r.QueryParser.parseEditDistance;case r.QueryLexer.BOOST:return r.QueryParser.parseBoost;case r.QueryLexer.PRESENCE:return t.nextClause(),r.QueryParser.parsePresence;default:var c="Unexpected lexeme type '"+u.type+"'";throw new r.QueryParseError(c,u.start,u.end)}}},function(t,s){typeof define=="function"&&define.amd?define(s):typeof ot=="object"?ut.exports=s():t.lunr=s()}(this,function(){return r})})()});var Ct=He(st()),At=He(at()),ct=He(lt());"use strict";window.lunr=ct.default;
/*!
 * lunr.Builder
 * Copyright (C) 2020 Oliver Nightingale
 */
/*!
 * lunr.Index
 * Copyright (C) 2020 Oliver Nightingale
 */
/*!
 * lunr.Pipeline
 * Copyright (C) 2020 Oliver Nightingale
 */
/*!
 * lunr.Set
 * Copyright (C) 2020 Oliver Nightingale
 */
/*!
 * lunr.TokenSet
 * Copyright (C) 2020 Oliver Nightingale
 */
/*!
 * lunr.Vector
 * Copyright (C) 2020 Oliver Nightingale
 */
/*!
 * lunr.stemmer
 * Copyright (C) 2020 Oliver Nightingale
 * Includes code from - http://tartarus.org/~martin/PorterStemmer/js.txt
 */
/*!
 * lunr.stopWordFilter
 * Copyright (C) 2020 Oliver Nightingale
 */
/*!
 * lunr.tokenizer
 * Copyright (C) 2020 Oliver Nightingale
 */
/*!
 * lunr.trimmer
 * Copyright (C) 2020 Oliver Nightingale
 */
/*!
 * lunr.utils
 * Copyright (C) 2020 Oliver Nightingale
 */
/**
 * lunr - http://lunrjs.com - A bit like Solr, but much smaller and not as bright - 2.3.9
 * Copyright (C) 2020 Oliver Nightingale
 * @license MIT
 */

;
var d=Object.defineProperty;var g=Object.prototype.hasOwnProperty;var r=Object.getOwnPropertySymbols,f=Object.prototype.propertyIsEnumerable;var l=(e,t,s)=>t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,c=(e,t)=>{for(var s in t||(t={}))g.call(t,s)&&l(e,s,t[s]);if(r)for(var s of r(t))f.call(t,s)&&l(e,s,t[s]);return e};var u={keyboardNavigation:!1,isModalOpen:!1,closeModals:function(){this.search.close(),this.lightbox.close(),this.code.close()}},m={options:{LIGHT:"light",DARK:"dark"},applyTheme:function(e){let t=e===this.options.DARK;console.log(t?"\u{1F319} Setting dark mode":"\u{1F31E} Setting light mode"),document.getElementById("theme-switcher-indicator").checked=!t;let i=e,n=t?this.options.LIGHT:this.options.DARK;document.body.classList.add(i),document.body.classList.remove(n)},saveSetting:function(e){window.localStorage.setItem("theme",e)},removeSetting:function(){window.localStorage.removeItem("theme")},readSavedSetting:function(){return window.localStorage.getItem("theme")},toggleChanged:function(e){let t=e.checked?this.options.LIGHT:this.options.DARK;this.saveSetting(t),this.applyTheme(t)},listenForExternalChange:function(){try{let e=window.matchMedia("(prefers-color-scheme: dark)");if(!e.addEventListener)return;e.addEventListener("change",t=>{this.removeSetting();let i=!t.matches?this.options.LIGHT:this.options.DARK;console.log(`\u{1F317} Theme changed in Operating System to ${i} mode`),this.applyTheme(i)}),window.addEventListener("storage",()=>{let t=this.readSavedSetting();t!==this.options.DARK&&(t=this.options.LIGHT),this.applyTheme(t)})}catch(e){console.warn("Not listening to theme change events",e)}},onLoad:function(){let e=this.readSavedSetting(),s=window.matchMedia("(prefers-color-scheme: dark)").matches?this.options.DARK:this.options.LIGHT,n=(e===this.options.DARK||e===this.options.LIGHT)&&e!==s?e:s;this.applyTheme(n),this.listenForExternalChange(),setTimeout(()=>{document.body.classList.add("js-loaded")},0)}},p={isOpen:!1,cancelShowImage:!1,openImage:!1,showLoading:!1,close:function(){this.openImage=!1,this.isOpen=!1,blog.isModalOpen=!1},cancel:function(){this.cancelShowImage=!0,this.close()},open:function(e,t){this.openImage=!1,this.showLoading=!1,this.cancelShowImage=!1;let s=e.currentTarget.querySelector("img"),i=e.currentTarget.href,n=e.currentTarget.offsetTop+s.clientHeight/2-window.pageYOffset,a=s.offsetLeft+s.clientWidth/2;t.lightbox.style.cssText=`transform-origin: ${a}px ${n}px`,this.isOpen=!0;let o=t.lightbox.querySelector("img");if(!o||o.getAttribute("src")!==i){o&&o.remove(),setTimeout(()=>{t.lightbox.querySelectorAll("img").length===0&&(this.showLoading=!0)},300);let h=new Image;h.onload=()=>{this.cancelShowImage||(this.showLoading=!1,t.lightbox.append(h),this.openImage=!0)},h.src=i}else this.openImage=!0;blog.isModalOpen=!0}},O={isOpen:!1,textInSearchBox:"",index:null,store:null,indexLoadFailed:!1,indexLoading:!1,hits:[],getHitsText:function(){return`Search phrase matching ${this.hits.length} pages`},open:function(){blog.isModalOpen=!0,this.isOpen=!0,this.textInSearchBox="",this.indexLoadFailed=!1,this.downloadIndex()},close:function(){this.isOpen=!1,blog.isModalOpen=!1},downloadIndex:function(){this.index||(this.indexLoading=!0,this.fetchIndex().then(({index:e,store:t})=>{this.index=window.lunr.Index.load(e),this.store=t,this.indexLoading=!1,this.searchBoxChanged(this.textInSearchBox),console.log("\u{1F50D} Search index downloaded")}))},fetchIndex:function(){return fetch("/search-index.json").then(this.handleFetchResponse).catch(this.handleFetchResponse)},handleFetchResponse:function(e){return this.indexLoadFailed=!e.ok,e.ok&&e.json?e.json():this.index},searchBoxChanged:function(e){let t=(e||"").trim();t.length<2&&t!=="*"||this.find(t)},find:function(e){this.hits=this.index.search(e)},fromStore:function(e){return this.store[e.ref]||{}},focusFirstAnchor:function(e,t){try{t.querySelector("a").focus(),e.preventDefault()}catch(s){}}},x={states:{CLOSED:"closed",CLOSING:"closing",OPEN:"open",OPENING:"opening"},state:"closed",isOpen:function(){return this.state===this.states.OPEN},isOpening:function(){return this.state===this.states.OPENING},isClosing:function(){return this.state===this.states.CLOSING},isClosed:function(){return this.state===this.states.CLOSED},hamburgerIsOpen:function(){return this.isOpen()||this.isOpening()},close:function(){this.state===this.states.CLOSED||this.state===this.states.CLOSING||(this.state=this.states.CLOSING,setTimeout(()=>{this.state=this.states.CLOSED},300))},open:function(){this.state===this.states.OPEN||this.state===this.states.OPENING||(this.state=this.states.OPENING,setTimeout(()=>{this.state=this.states.OPEN},300))},toggle:function(){this.isOpen()?this.close():this.isClosed()&&this.open()}},S={skipToContent:function(e){e.setAttribute("tabindex","-1"),e.focus()},removeContentTabIndex:function(e){e.removeAttribute("tabindex")}},I={isOpening:!1,isVisible:!1,close:function(){this.isVisible&&(this.isOpening=!1,blog.isModalOpen=!1,this.isVisible=!1)},open:function(e){this.isVisible=!1;let t=e.target.closest(".code-expandable").querySelector(".code"),s=t.offsetTop+t.clientHeight/2-window.pageYOffset,i=t.offsetLeft+t.clientWidth/2,n=t.cloneNode(!0);blog.isModalOpen=!0,this.isOpening=!0;let a=document.getElementById("code-placeholder");a.innerHTML="",a.appendChild(n),a.querySelector("code").focus();let o=document.getElementById("code-container-inner");o.style.cssText=`transform-origin: ${i}px ${s}px`,setTimeout(()=>{this.isVisible=!0},500)}};window.blog=c(c({},u),{theme:m,lightbox:p,search:O,menu:x,skipLink:S,code:I});window.blog.theme.onLoad();document.addEventListener("DOMContentLoaded",function(){try{if(!/^((?!chrome|android).)*safari/i.test(navigator.userAgent)){let s=`padding:200px 0 0 0;text-align:bottom;font-size: 1.5rem;background:url(${window.location.origin+"/images/you-are-the-best.png"}) no-repeat left top;background-size:200px`;console.log("%c So, you're reading the console messages - how geeky! \u{1F913}",s)}}catch(e){}});
