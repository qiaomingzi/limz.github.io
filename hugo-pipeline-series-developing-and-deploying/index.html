<!doctype html><html lang=en><head><meta charset=utf-8><meta name=referrer content="no-referrer"><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><meta name=viewport content="width=device-width,initial-scale=1,viewport-fit=cover"><title>Hugo Pipeline Series – Developing and Deploying | Henrik Sommerfeld's blog</title><meta property="og:type" content="website"><meta property="og:title" content="Hugo Pipeline Series – Developing and Deploying"><meta property="og:url" content="https://www.henriksommerfeld.se/hugo-pipeline-series-developing-and-deploying/"><meta property="og:locale" content="en_GB"><meta property="og:description" content="My pipeline for development is Create feature branch -> Code feature -> Create PR -> Tests are green -> Merge to master -> Deploy to live site."><meta name=description content="My pipeline for development is Create feature branch -> Code feature -> Create PR -> Tests are green -> Merge to master -> Deploy to live site."><meta property="og:image" content="https://www.henriksommerfeld.se/hugo-pipeline-series-developing-and-deploying/gh-pr_huc5ec785053a94013984df38786c388cc_205783_1200x0_resize_box_2.png"><link rel=canonical href=https://www.henriksommerfeld.se/hugo-pipeline-series-developing-and-deploying/><meta name=twitter:card content="summary"><meta name=twitter:site content="@p4lm"><link rel=stylesheet type=text/css href=/styles/main-bundle.e75573c6bea7aaab3140306e19405774c84ffb979f881ed3a94f6b927de6276c631b4ab8f64784e7966a712b1bc14e3bcfad88b164b355bdab58473932aaa0f3.css integrity media="screen, tv, projection"><link rel=stylesheet type=text/css href=/styles/print-bundle.f3d1ea3e2e864e24f7a26ff871aef6875b8e6246aad31fa6e63fdc9c91c629f6b4cdd7dca9beb3949f8b61a0db4c6fe8ec1bfc44ccf3a2cd9a91ea8e9eb20d44.css integrity media=print><link rel=preload as=font href=/fonts/muli1.woff2 type=font/woff2 crossorigin=anonymous><link rel=preload as=font href=/fonts/muli2.woff2 type=font/woff2 crossorigin=anonymous><link rel=preconnect href=https://hej.henriksommerfeld.se><script async defer data-domain=henriksommerfeld.se src=https://hej.henriksommerfeld.se/js/index.js></script><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/manifest.json><link rel=mask-icon href=/safari-pinned-tab.svg color=#04396c><meta name=theme-color content="#ffffff"><meta name=generator content="Hugo 0.83.1"><svg aria-hidden="true" style="position:absolute;width:0;height:0;overflow:hidden" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><symbol id="icon-arrow-right" viewBox="0 0 32 32"><path d="M19.414 27.414l10-10c.781-.781.781-2.047.0-2.828l-10-10c-.781-.781-2.047-.781-2.828.0s-.781 2.047.0 2.828L23.172 14H4c-1.105.0-2 .895-2 2s.895 2 2 2h19.172l-6.586 6.586c-.39.39-.586.902-.586 1.414s.195 1.024.586 1.414c.781.781 2.047.781 2.828.0z"/></symbol><symbol id="icon-arrow-left" viewBox="0 0 32 32"><path d="M12.586 27.414l-10-10c-.781-.781-.781-2.047.0-2.828l10-10c.781-.781 2.047-.781 2.828.0s.781 2.047.0 2.828L8.828 14H28c1.105.0 2 .895 2 2s-.895 2-2 2H8.828l6.586 6.586c.39.39.586.902.586 1.414s-.195 1.024-.586 1.414c-.781.781-2.047.781-2.828.0z"/></symbol><symbol id="icon-calendar" viewBox="0 0 32 32"><path d="M27.2 4.8h-1.6V8h-4.8V4.8h-9.6V8H6.4V4.8H4.8C3.038 4.8 1.6 6.24 1.6 8v19.2c0 1.76 1.438 3.2 3.2 3.2h22.4c1.76.0 3.2-1.44 3.2-3.2V8c0-1.76-1.44-3.2-3.2-3.2zm0 22.4H4.8V14.4h22.4v12.8zM10.4 1.6H7.2v5.6h3.2V1.6zm14.4.0h-3.2v5.6h3.2V1.6z"/></symbol><symbol id="icon-expand" viewBox="0 0 32 32"><path d="M11.179 17.579l-4.69 4.85-3.29-3.886v10.258h10.219l-3.888-3.33 4.848-4.691-3.2-3.2zM18.581 3.2l3.888 3.33-4.848 4.691 3.2 3.2 4.69-4.85 3.29 3.886V3.199H18.582z"/></symbol><symbol id="icon-collapse" viewBox="0 0 32 32"><path d="M6.56 22.56 1.6 27.2l3.2 3.2 4.64-4.96 3.36 3.36v-9.6H3.2l3.36 3.36zM30.4 4.8l-3.2-3.2-4.64 4.96L19.2 3.2v9.6h9.6l-3.36-3.36L30.4 4.8z"/></symbol><symbol id="icon-bubble" viewBox="0 0 32 32"><path d="M16 2c8.837.0 16 5.82 16 13s-7.163 13-16 13c-.849.0-1.682-.054-2.495-.158C10.068 31.279 5.966 31.895 2 31.986v-.841C4.142 30.096 6 28.184 6 26c0-.305-.024-.604-.068-.897-3.619-2.383-5.932-6.024-5.932-10.103.0-7.18 7.163-13 16-13z"/></symbol><symbol id="icon-folder" viewBox="0 0 32 32"><path d="M29.448 7.678C29.27 6.974 28.4 6.4 27.512 6.4H16.61c-.886.0-2.128-.509-2.755-1.131l-.954-.941c-.627-.622-1.867-1.128-2.754-1.128H4.939c-.888.0-1.694.715-1.792 1.59L2.68 9.6h27.09l-.322-1.922zM31.059 11.2h-30.118c-.547.0-.976.47-.923 1.016l1.477 15.47c.059.63.59 1.114 1.226 1.114h26.56c.635.0 1.165-.483 1.226-1.114l1.477-15.47c.053-.546-.376-1.016-.923-1.016z"/></symbol><symbol id="icon-tag" viewBox="0 0 32 32"><path d="M31.021.648c-.178-.502-.726-.768-1.23-.594s-.77.728-.595 1.232c1.486 4.272-1.464 7.462-3.714 9.171l-.909-1.302c-.306-.437-.989-.8-1.52-.806l-5.101.022c-.531-.01-1.32.234-1.755.541l-15.03 10.539c-.728.512-.904 1.515-.395 2.246l6.83 9.773c.512.728 1.33.64 2.059.131l15.03-10.541c.432-.306.931-.965 1.107-1.469l1.597-5.032c.176-.502.069-1.269-.237-1.706l-.554-.794c3.021-2.315 6.157-6.406 4.416-11.413zM24.027 15.621c-1.163.816-2.77.531-3.584-.634-.818-1.168-.533-2.774.632-3.594.925-.648 2.125-.602 2.989.027-.435.262-.734.416-.79.44-.482.229-.688.806-.461 1.288.166.35.514.557.875.557.138.0.278-.032.411-.094.31-.147.643-.322.99-.528.155.95-.222 1.947-1.062 2.538z"/></symbol><symbol id="icon-circle-with-cross" viewBox="0 0 32 32"><title>Close (Esc)</title><path d="M16 2.56C8.578 2.56 2.56 8.578 2.56 16S8.578 29.44 16 29.44 29.44 23.422 29.44 16 23.422 2.56 16 2.56zm7.662 18.338-2.766 2.766L16 18.766l-4.898 4.896-2.766-2.766L13.235 16l-4.898-4.898 2.766-2.765 4.896 4.896 4.898-4.898 2.766 2.766-4.899 4.898 4.898 4.898z"/></symbol></defs></svg></head><body x-data=window.blog :class="{ 'modal-open': isModalOpen, 'keyboard-navigation' : keyboardNavigation }" @mouseup="keyboardNavigation = false" @keydown.tab="keyboardNavigation = true" @keydown.escape=closeModals()><script>try{const a=window.localStorage.getItem('theme');a==='dark'&&document.querySelector('body').classList.add('dark'),a==='light'&&document.querySelector('body').classList.add('light')}catch(a){}</script><link rel=stylesheet type=text/css href=/styles/post-bundle.min.e3d5c4bf1c8ba2adf183d93bf5d4c4f06dc3fec052e7eec74abfb7536f2ef023b309bd488fb71a8dd50a328eacff6c85ce41bc5918a809417a2fdd4ae2d2d967.css integrity="sha512-49XEvxyLoq3xg9k79dTE8G3D/sBS5+7HSr+3U28u8COzCb1Ij7cajdUKMo6s/2yFzkG8WRioCUF6L91K4tLZZw==" media="screen, tv, projection"><div id=page-wrapper><header><svg aria-hidden="true" style="position:absolute;width:0;height:0;overflow:hidden" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><symbol id="icon-home" viewBox="0 0 32 32"><path d="M32 18.451 16 6.031.0 18.451v-5.064l16-12.42 16 12.42zM28 18v12h-8v-8h-8v8H4V18l12-9z"/></symbol><symbol id="icon-user" viewBox="0 0 32 32"><path d="M18 22.082v-1.649c2.203-1.241 4-4.337 4-7.432.0-4.971.0-9-6-9s-6 4.029-6 9c0 3.096 1.797 6.191 4 7.432v1.649C7.216 22.637 2 25.97 2 30h28c0-4.03-5.216-7.364-12-7.918z"/></symbol><symbol id="icon-search" viewBox="0 0 32 32"><path d="M31.008 27.231l-7.58-6.447c-.784-.705-1.622-1.029-2.299-.998 1.789-2.096 2.87-4.815 2.87-7.787.0-6.627-5.373-12-12-12s-12 5.373-12 12 5.373 12 12 12c2.972.0 5.691-1.081 7.787-2.87-.031.677.293 1.515.998 2.299l6.447 7.58c1.104 1.226 2.907 1.33 4.007.23s.997-2.903-.23-4.007zM12 20c-4.418.0-8-3.582-8-8s3.582-8 8-8 8 3.582 8 8-3.582 8-8 8z"/></symbol></defs></svg><div class=header-content @click.away=menu.close()><div class=site-title>Henrik Sommerfeld</div><div class=theme-switcher :class="{'has-javascript': true}"><div class=switch><input type=checkbox name=toggle id=theme-switcher-indicator aria-label="Switch theme" @click=theme.toggleChanged($event.target) checked>
<label for=theme-switcher-indicator><i></i></label>
<span></span></div></div><a href=#content id=skip-link class=skip-link @click.prevent=skipLink.skipToContent($refs.content) @click.away=skipLink.removeContentTabIndex($refs.content)>Skip to content</a>
<button @click=menu.toggle() class=hamburger-trigger>Menu<div class=hamburger-menu><div class=bar :class="{'animate': menu.hamburgerIsOpen()}"></div></div></button><nav :class="{'open': menu.isOpen() || menu.isOpening(), 'open closing': menu.isClosing()}"><a href=/ class=home><svg class="icon icon-home"><use xlink:href="#icon-home"/></svg>Home</a>
<a href=/about/ class=about><svg class="icon icon-user"><use xlink:href="#icon-user"/></svg>About</a>
<a href=/search-requires-javascript/ rel=nofollow class=search x-ref=searchMenuLink @click.prevent="menu.close(); search.open();$nextTick(() => $refs.searchInput.focus())"><svg class="icon icon-search"><use xlink:href="#icon-search"/></svg>Search</a></nav></div></header><div class=body><div class=body-max-width><main id=content x-ref=content><article class=full-article><h1>Hugo Pipeline Series – Developing and Deploying</h1><div class=entry-meta><time class=published datetime="2020-06-22 06:21:00 +0200 +0200"><svg class="icon icon-calendar"><use xlink:href="#icon-calendar"/></svg>22 June 2020</time></div><p>This post is part 3 in the <a href=/hugo-pipeline-series-intro/>Hugo Pipeline Series</a>.</p><noscript><style>figure.lazy{display:none}</style><figure class=image-border><a href=/hugo-pipeline-series-developing-and-deploying/gh-pr.png class=lightbox-hover><img src=/hugo-pipeline-series-developing-and-deploying/gh-pr.png></a><figcaption><em></em></figcaption></figure></noscript><figure class="image-border lazy"><a href=/hugo-pipeline-series-developing-and-deploying/gh-pr.png @click.prevent="lightbox.open($event, $refs)" class=lightbox-hover><img class=lazyload data-sizes=auto src=/hugo-pipeline-series-developing-and-deploying/gh-pr.png srcset=data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAYCAIAAAAzn+mLAAAB5klEQVR4nKyXaXbDIAyENTz/6B16i97/buqzEFpYYkhCk2DA9nweCUyvn98/IgLun/CVwlZzV9URZj3D6nC86vGhaf8lNDCmBNRoQJCK7xGpILcDUAWBqoz7i0gw9vjQtPsCGg/aeWjPBtab6rFj3QwCZYJQQ6WGu3tabiCSvwbUDBJK1qbYoTSoDXVIURLHBzx0OY0jeUGNtQzV2DGrI5VJxd/xZZ5apdJAkeTAC2kwhTSF1ifAmHV7yotSFITcJf9QI6XEpBf0IN4IACsWXo2UAGJzrH0QUGOSKZVlG16Ir+xZkRZjsOgkhygxRZM6V6ZqK5gXQSy9EbFgSBEMB4NwitdE+BWNANmTq1JI6S5x4VGiEXFUnvU9JnhBXJ2zSWEFz9KT9WGnPNM0h5rgWgezYOULhhdOZ9Hm5C+E4W7wNtIEfzbmeJZPgBKIPjayOJI978Vrt5TlyKPuNtjRe630F/Lpbfa4tqGKJ5vVfBLzb5dSSeqM5LjzC0fzCTKc+x0g8cM3mmmtuBs8qAfajbfoabm47nMo7bmiju+k1cZMd5xzT0B1e9ruG/dYiJIcKu7WXG3478B2AHv12z6yiWP/UbC5wR5G9lh3up9ZdQ0vmH4jai4xk/1x7I3QCe0dvP8AAAD//+hFFtf5tFeCAAAAAElFTkSuQmCC data-src=/hugo-pipeline-series-developing-and-deploying/gh-pr.png data-srcset="/hugo-pipeline-series-developing-and-deploying/gh-pr.png 2120w, /hugo-pipeline-series-developing-and-deploying/gh-pr_huc5ec785053a94013984df38786c388cc_205783_500x0_resize_box_2.png 500w, /hugo-pipeline-series-developing-and-deploying/gh-pr_huc5ec785053a94013984df38786c388cc_205783_800x0_resize_box_2.png 800w, /hugo-pipeline-series-developing-and-deploying/gh-pr_huc5ec785053a94013984df38786c388cc_205783_1200x0_resize_box_2.png 1200w, /hugo-pipeline-series-developing-and-deploying/gh-pr_huc5ec785053a94013984df38786c388cc_205783_1500x0_resize_box_2.png 1500w" width=2120 height=1060 alt="Pull request workflow using GitHub's CLI"></a></figure><p>In terms of making code changes to my Hugo site, I&rsquo;ll focus on the JavaScript parts, since Hugo templates and CSS isn&rsquo;t much to talk about. I use a few libraries that I&rsquo;ve installed with <a href=https://www.npmjs.com/>npm</a> and those need to be processed before they are sent to the browser. The JavaScript code I have written myself, does not have that requirement. In that case it&rsquo;s just a matter of how old browsers I want to support.</p><p>So, by splitting libraries (installed through npm) from my own code, I&rsquo;m able to rely solely on Hugo&rsquo;s file watcher with live reload. For development (using <code>hugo server</code>), the libraries are built once, and the file with custom code is served to the browser as is. I use <a href=http://browserify.org/>Browserify</a> for the libraries and that&rsquo;s good enough for my needs. If you need something more powerful, you might consider <a href=https://github.com/netlify-templates/victor-hugo>Victor Hugo</a> that comes with <a href=https://webpack.js.org/>Webpack</a> preconfigured. I could also have referenced the libraries directly from a public <a href=https://en.wikipedia.org/wiki/Content_delivery_network>CDN</a>, but that would make it harder to see when there&rsquo;s a new version of a library and more importantly – my site wouldn&rsquo;t work on localhost without an Internet connection.</p><div class=code-expandable><div class=code-expanded-controls><a x-show=!code.isExpanded role=button title=Expand @click=code.open($event) href="javascript:void('Expand/collapse code view')"><svg class="icon icon-expand"><use xlink:href="#icon-expand"/></svg></a></div><div class=code><div class=highlight><pre class=chroma><code class=language-go-html-template data-lang=go-html-template><span class=cp>{{</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=na>.Site.Params.MinifyBundles</span><span class=w> </span><span class=cp>}}</span>
  <span class=cp>{{</span><span class=w> </span><span class=nx>$opts</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=o>(</span><span class=nx>dict</span><span class=w> </span><span class=s>&#34;minified&#34;</span><span class=w> </span><span class=k>true</span><span class=w> </span><span class=s>&#34;compact&#34;</span><span class=w> </span><span class=k>true</span><span class=w> </span><span class=s>&#34;noComments&#34;</span><span class=w> </span><span class=k>true</span><span class=o>)</span><span class=w> </span><span class=cp>}}</span>
  <span class=cp>{{</span><span class=w> </span><span class=nx>$main</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>resources</span><span class=na>.Get</span><span class=w> </span><span class=s>&#34;main.js&#34;</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=nx>babel</span><span class=w> </span><span class=nx>$opts</span><span class=w> </span><span class=cp>}}</span>
  <span class=cp>{{</span><span class=w> </span><span class=nx>$libs</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>resources</span><span class=na>.Get</span><span class=w> </span><span class=s>&#34;libraries.js&#34;</span><span class=w> </span><span class=cp>}}</span>
  <span class=cp>{{</span><span class=w> </span><span class=nx>$bundle</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>slice</span><span class=w> </span><span class=nx>$libs</span><span class=w> </span><span class=nx>$main</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=nx>resources</span><span class=na>.Concat</span><span class=w> </span><span class=s>&#34;bundle.js&#34;</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=nx>resources</span><span class=na>.Fingerprint</span><span class=w> </span><span class=s>&#34;sha512&#34;</span><span class=w> </span><span class=cp>}}</span>
  <span class=p>&lt;</span><span class=nt>script</span> <span class=na>src</span><span class=o>=</span><span class=s>&#34;</span><span class=cp>{{</span><span class=w> </span><span class=nx>$bundle</span><span class=na>.RelPermalink</span><span class=w> </span><span class=cp>}}</span><span class=s>&#34;</span> <span class=na>integrity</span><span class=o>=</span><span class=s>&#34;</span><span class=cp>{{</span><span class=w> </span><span class=nx>$bundle</span><span class=na>.Data.Integrity</span><span class=w> </span><span class=cp>}}</span><span class=s>&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
<span class=cp>{{</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=cp>}}</span>
  <span class=cp>{{</span><span class=w> </span><span class=nx>$libs</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>resources</span><span class=na>.Get</span><span class=w> </span><span class=s>&#34;libraries.js&#34;</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=nx>resources</span><span class=na>.Fingerprint</span><span class=w> </span><span class=s>&#34;sha512&#34;</span><span class=w> </span><span class=cp>}}</span>
  <span class=p>&lt;</span><span class=nt>script</span> <span class=na>src</span><span class=o>=</span><span class=s>&#34;</span><span class=cp>{{</span><span class=w> </span><span class=nx>$libs</span><span class=na>.RelPermalink</span><span class=w> </span><span class=cp>}}</span><span class=s>&#34;</span> <span class=na>integrity</span><span class=o>=</span><span class=s>&#34;</span><span class=cp>{{</span><span class=w> </span><span class=nx>$libs</span><span class=na>.Data.Integrity</span><span class=w> </span><span class=cp>}}</span><span class=s>&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
  <span class=cp>{{</span><span class=w> </span><span class=nx>$mainDev</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>resources</span><span class=na>.Get</span><span class=w> </span><span class=s>&#34;main.js&#34;</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=nx>resources</span><span class=na>.Fingerprint</span><span class=w> </span><span class=s>&#34;sha512&#34;</span><span class=w> </span><span class=cp>}}</span>
  <span class=p>&lt;</span><span class=nt>script</span> <span class=na>src</span><span class=o>=</span><span class=s>&#34;</span><span class=cp>{{</span><span class=w> </span><span class=nx>$mainDev</span><span class=na>.RelPermalink</span><span class=w> </span><span class=cp>}}</span><span class=s>&#34;</span> <span class=na>integrity</span><span class=o>=</span><span class=s>&#34;</span><span class=cp>{{</span><span class=w> </span><span class=nx>$mainDev</span><span class=na>.Data.Integrity</span><span class=w> </span><span class=cp>}}</span><span class=s>&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
<span class=cp>{{</span><span class=w> </span><span class=k>end</span><span class=w> </span><span class=cp>}}</span></code></pre></div></div></div><p>For the &ldquo;production build&rdquo;, I just minify the code and concatenate the libraries with my custom code into a single file. I use <a href=https://babeljs.io/>Babel</a> from within the Hugo template (<a href=https://gohugo.io/hugo-pipes/babel/>available since Hugo 0.70</a>) which removes the need for yet another npm script.</p><p>When doing code changes I always create a new branch in Git. As I described in the previous post, anything pushed to master is automatically built and deployed (if build is successful) to the live site without any tests. By creating a pull request and using <a href=https://github.com/features/actions>GitHub Actions</a>, I can feel confident that I haven&rsquo;t broken anything when the checks are green.</p><p>These are the steps:<style>figure svg{width:100%;height:auto}figure.use-theme svg path{stroke:var(--color)}figure.use-theme svg text{fill:var(--color)}figure.use-theme svg rect{fill:transparent}</style><figure style=max-width:500px class=use-theme><svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" inkscape:version="1.0 (4035a4f, 2020-05-01)" height="1654.5" width="429.5" sodipodi:docname="dev-deploy-pipeline-drawing.svg" id="svg212" viewBox="0 0 429.5 1654.5"><sodipodi:namedview inkscape:current-layer="svg212" inkscape:window-maximized="1" inkscape:window-y="23" inkscape:window-x="0" inkscape:cy="827.25" inkscape:cx="214.75" inkscape:zoom=".44424297" fit-margin-bottom="0" fit-margin-right="0" fit-margin-left="0" fit-margin-top="0" inkscape:pagecheckerboard="true" showgrid="false" id="namedview214" inkscape:window-height="1075" inkscape:window-width="1792" inkscape:pageshadow="2" inkscape:pageopacity="0" guidetolerance="10" gridtolerance="10" objecttolerance="10" borderopacity="1" bordercolor="#666666" pagecolor="#ffffff"/><defs id="defs12"><style id="style10">@font-face{font-family:virgil;src:url(https://excalidraw.com/FG_Virgil.woff2)}@font-face{font-family:cascadia;src:url(https://excalidraw.com/Cascadia.woff2)}</style></defs><rect style="fill:none" id="rect14" fill="#fff" height="1654.5" width="429.5" y="0" x="0"/><g id="g18" transform="translate(10,10)"><path id="path16" fill="none" stroke-width="2" stroke="#1a202c" d="M.32849517-.14787792C105.61118.47754569 210.7281-.27873559 401.85532.7867261M.09073786.53660226C130.61733 2.6068979 262.5897 2.5678724 401.0851-.33339817M399.19347.85151528C400.95594 32.322103 401.39887 66.567825 399.83141 142.18075M401.50985.96305769C401.86377 57.879016 401.7307 113.53673 401.58645 143.3253m-1.48443.7092C252.11335 143.83781 104.62668 144.70962-.05066492 142.44507M400.73884 142.65832C260.544 142.7712 120.47735 143.63768.53521993 142.43593m-1.98163933.45442C.32952375 103.75396 2.4232647 63.173587.69472794-.78758485M-.45483575 143.62355C-.04936462 110.3809 1.2711865 78.590145.42597657.31490918"/></g><g id="g22" transform="translate(63,65)"><text id="text20" direction="ltr" style="white-space:pre" text-anchor="middle" fill="#1a202c" font-size="20" font-family="Virgil" y="18" x="146">Create feature branch in Git</text></g><g id="g26" transform="translate(13.5,220.5)"><path id="path24" fill="none" stroke-width="2" stroke="#1a202c" d="M.00976981-.69730492C129.78471.02869374 259.12166.66704936 400.0331.2823095M-.48976044-.44571111C150.48018.53731054 300.431.40531766 400.44396-.13424715M400.20785 1.8982496C399.79347 36.342676 402.33191 72.56657 401.11472 144.76852M401.11503.69868036C400.32635 44.414984 400.2357 89.138938 401.15578 142.65834m-.16153.8435C285.8374 141.72922 172.84571 141.13982-.95592406 142.2172M401.41196 143.56427c-105.92174.76586-210.78718 1.57643-401.42647159-.51864m-.9477535-1.54384C1.3225805 88.480981 1.6469562 30.78224.22820817-.16354765M-.16587127 142.22797C-.64033173 91.047825-.2111447 37.485865-.30973718.67647695"/></g><g id="g32" transform="translate(92.5,265.5)"><text id="text28" direction="ltr" style="white-space:pre" text-anchor="middle" fill="#1a202c" font-size="20" font-family="Virgil" y="18.5" x="123.5">Develop the new feature</text><text id="text30" direction="ltr" style="white-space:pre" text-anchor="middle" fill="#1a202c" font-size="20" font-family="Virgil" y="44" x="123.5">in the new branch</text></g><g id="g36" transform="translate(17.5,443.5)"><path id="path34" fill="none" stroke-width="2" stroke="#1a202c" d="M-.53018682-.53971705C109.90629 2.2118475 219.70753 1.5048427 401.24351-1.0681969M-.53597791.13216543C153.69651-1.3586944 306.61877-.35362392 401.32267.15614615m-.95825-.32542825c1.27773 38.8484811 2.41469 74.8059531-.37191 142.5882121M401.95928-.74014435C402.106 38.092471 401.85685 74.964173 401.73064 143.82058m-.41028-.52155C277.42432 140.96311 155.53663 140.14-.9216553 142.23907m402.1425953.63024c-109.1533.2049-216.89186.6461-401.38040586.52483m-.022339-.296C1.3449535 88.182556 1.034655 28.9525.99124251.26743786M-.5406761 142.02419C2.0857968 88.595724 1.3305633 35.145612.55034339-.37441934"/></g><g id="g44" transform="translate(56.5,479.5)"><text id="text38" direction="ltr" style="white-space:pre" text-anchor="middle" fill="#1a202c" font-size="20" font-family="Virgil" y="17.666666" x="163.5">Create Pull Request from</text><text id="text40" direction="ltr" style="white-space:pre" text-anchor="middle" fill="#1a202c" font-size="20" font-family="Virgil" y="43.333332" x="163.5">feature branch to master branch</text><text id="text42" direction="ltr" style="white-space:pre" text-anchor="middle" fill="#1a202c" font-size="20" font-family="Virgil" y="69" x="163.5">(through GitHub)</text></g><g id="g48" transform="translate(17.5,648.5)"><path id="path46" fill="none" stroke-width="2" stroke="#1a202c" d="M.13879917-.2991768C115.82459.37589629 230.66536 1.729302 401.26301.18181155M.24696938-.05704745C91.919233.70006877 183.93557.15575952 400.93972-.40213764m-1.06906 2.15136774c1.68927 41.9004729.37669 85.0782159 2.6585 139.5635899M401.44743-.01113264C401.21134 30.518866 400.32971 61.41113 400.77539 142.97693m.69544.79245C264.05643 139.95119 128.37368 141.89886-.95606724 142.08515M400.84329 143.27736C284.50857 141.46767 167.71122 141.99434.34202581 142.9111M-1.652521 142.16019C1.4484516 94.786257 1.6420213 47.02907 1.9502219-.83965911M-.71076751 143.54133C1.3396625 93.911857.96541711 45.981748-.35477457.67668211"/></g><g id="g52" transform="translate(348,553)"><text id="text50" direction="ltr" style="white-space:pre" text-anchor="middle" fill="#1a202c" font-size="20" font-family="Virgil" y="18" x="0"/></g><g id="g62" transform="translate(53,669)"><text id="text54" direction="ltr" style="white-space:pre" text-anchor="middle" fill="#1a202c" font-size="20" font-family="Virgil" y="18.5" x="165">Netlify builds &amp; deploys a canary</text><text id="text56" direction="ltr" style="white-space:pre" text-anchor="middle" fill="#1a202c" font-size="20" font-family="Virgil" y="44" x="165">release on a separate URL</text><text id="text58" direction="ltr" style="white-space:pre" text-anchor="middle" fill="#1a202c" font-size="20" font-family="Virgil" y="69.5" x="165">(this is reported back to the</text><text id="text60" direction="ltr" style="white-space:pre" text-anchor="middle" fill="#1a202c" font-size="20" font-family="Virgil" y="95" x="165">PR in GitHub</text></g><g id="g66" transform="translate(18.5,863.5)"><path id="path64" fill="none" stroke-width="2" stroke="#1a202c" d="M.62995169.67970414C159.09875-1.5262533 317.98656-1.3620299 400.92934-.89180003M.21149007.24144607C152.13447 2.4295119 304.12072 1.5546875 400.83993.4970001M400.7124 1.1456089C400.87773 32.837631 399.64705 68.290133 400.39772 142.37502M401.51871.44511779C401.65949 38.802479 402.34645 77.680799 401.86207 142.04215m-1.04833 1.53536c-95.73447.62977-191.85342.82395-401.19075193-1.24109M400.98257 143.42392C250.54376 142.56639 100.41494 143.02425.46905663 142.87879M-1.1945203 142.31023c.79175841-35.95778.57011729-69.85197-.1508243-143.4373166M-.96441309 143.81597C1.0779256 110.66691 2.2005741 80.552291-.10107572.97405272"/></g><g id="g76" transform="translate(45.5,884)"><text id="text68" direction="ltr" style="white-space:pre" text-anchor="middle" fill="#1a202c" font-size="20" font-family="Virgil" y="18.5" x="173.5">When the canary release URL</text><text id="text70" direction="ltr" style="white-space:pre" text-anchor="middle" fill="#1a202c" font-size="20" font-family="Virgil" y="44" x="173.5">responds with a 200 status code,</text><text id="text72" direction="ltr" style="white-space:pre" text-anchor="middle" fill="#1a202c" font-size="20" font-family="Virgil" y="69.5" x="173.5">Cypress tests are run in</text><text id="text74" direction="ltr" style="white-space:pre" text-anchor="middle" fill="#1a202c" font-size="20" font-family="Virgil" y="95" x="173.5">GitHub Actions</text></g><g id="g80" transform="translate(16.5,1079.5)"><path id="path78" fill="none" stroke-width="2" stroke="#1a202c" d="M.01265809.87561C90.498621-.15034422 181.23695-.95186642 402.02689.48397814M.121024.3956668C134.41904 1.3693357 269.7941 1.9218793 400.49693-.2389211m.38016-.9585724C400.81194 39.585134 400.49733 80.830451 402.6876 141.02181M401.35174.97073536C400.21162 32.40486 399.07559 66.510303 400.33456 143.32414m1.48472.64993C250.69093 141.44613 99.565378 141.18069-1.0386565 143.94824M400.78468 143.28829C271.13964 144.74996 141.42916 144.97914.31327749 142.71088M-1.4669851 142.1613C-.88752931 91.575316-1.028419 39.087158-1.373602-1.1414708M-.02116764 143.21664C.84155186 98.710001 1.7454036 57.190903.98167797.57733085"/></g><g id="g88" transform="translate(39,1112.5)"><text id="text82" direction="ltr" style="white-space:pre" text-anchor="middle" fill="#1a202c" font-size="20" font-family="Virgil" y="17.666666" x="178">Test results are shown in the PR in</text><text id="text84" direction="ltr" style="white-space:pre" text-anchor="middle" fill="#1a202c" font-size="20" font-family="Virgil" y="43.333332" x="178">GitHub. If green, feature branch</text><text id="text86" direction="ltr" style="white-space:pre" text-anchor="middle" fill="#1a202c" font-size="20" font-family="Virgil" y="69" x="178">is merged into master</text></g><g id="g92" transform="translate(15.5,1288.5)"><path id="path90" fill="none" stroke-width="2" stroke="#1a202c" d="M-1.1280258.9391162C147.3613 1.4288653 293.37293.01814833 400.83705.64307909M.1237644.47982864C97.402821-.56690498 194.09034-1.198338 400.61798.36162711M400.16999-1.640666c1.3999 53.926713 2.67482 107.697406-.41298 144.438506M401.09725.24292748C402.75622 52.42169 402.65723 104.89762 401.92452 142.63196m-.0452-.01c-134.9395 1.09397-268.59937 1.46968-401.50472066-.65022M401.09214 143.33738c-88.26984-1.02235-177.02759-1.75873-401.46374667.0403m-.0353368.0547C.4569947 104.69828.14932274 68.6203-.01691003-.26421745M.78785076 143.34408C1.5688614 85.905031 1.3136298 28.707676-.91024775-.56912331"/></g><g id="g100" transform="translate(61,1321.5)"><text id="text94" direction="ltr" style="white-space:pre" text-anchor="middle" fill="#1a202c" font-size="20" font-family="Virgil" y="17.666666" x="155">Netlify deploys the latest code</text><text id="text96" direction="ltr" style="white-space:pre" text-anchor="middle" fill="#1a202c" font-size="20" font-family="Virgil" y="43.333332" x="155">from the master branch to</text><text id="text98" direction="ltr" style="white-space:pre" text-anchor="middle" fill="#1a202c" font-size="20" font-family="Virgil" y="69" x="155">the live site (Prod)</text></g><g id="g104" transform="translate(18.5,1501.5)"><path id="path102" fill="none" stroke-width="2" stroke="#1a202c" d="M1.0923023-1.1261579C144.2873-.33428524 287.01342-.4497661 401.38369-.06543923M-.41283683-.09932343C133.05523 2.3499236 266.33261 2.0386445 401.33493-.47140314m1.50675.21709383C401.92183 37.07064 402.3865 77.99921 400.53104 141.61029M400.3498.20501437C402.02779 51.315799 400.82169 103.02695 401.08626 142.89158m-1.04251-.48448c-141.73243 1.24638-285.12123-.24365-400.48745663.70854M400.70225 142.43899c-134.28221 1.98318-267.92799 2.39488-401.0573791.88213m-1.1812314-1.97668C-.00227989 106.03089-1.3354513 72.178742 1.6461931-.61124475M.38416412 142.98606C-.04937592 110.71576 1.3746737 78.094479-.65102948.15616571"/></g><g id="g112" transform="translate(32.5,1534.5)"><text id="text106" direction="ltr" style="white-space:pre" text-anchor="middle" fill="#1a202c" font-size="20" font-family="Virgil" y="17.666666" x="186.5">GitHub Actions workflow waits 2 min</text><text id="text108" direction="ltr" style="white-space:pre" text-anchor="middle" fill="#1a202c" font-size="20" font-family="Virgil" y="43.333332" x="186.5">and then performs a Lighthouse audit</text><text id="text110" direction="ltr" style="white-space:pre" text-anchor="middle" fill="#1a202c" font-size="20" font-family="Virgil" y="69" x="186.5">against the live site</text></g><g id="g126"><g id="g116" transform="translate(208,152)"><path id="path114" fill="none" stroke-width="2" stroke="#1a202c" d="M1.2078293 1.5270945C1.0806562 13.155872-.49815549 58.336234-.84204825 69.48881M-1.5810162-.11222228C-1.9312149 10.832983-2.1841955 55.31017-2.2228989 65.967961"/></g><g id="g120" transform="translate(208,152)"><path id="path118" fill="none" stroke-width="2" stroke="#1a202c" d="m-10.1525 39.978918c4.6865654 8.287229 6.1967211 11.843547 8.3314018 29.311509M-11.206035 36.807052c.852217 12.373492 4.7524371 21.194201 8.5843604 27.858622"/></g><g id="g124" transform="translate(208,152)"><path id="path122" fill="none" stroke-width="2" stroke="#1a202c" d="M10.368421 40.087597C8.9568358 48.519569 4.3686209 52.043591-1.8210982 69.290427M9.3148861 36.915731C2.5931445 49.431872-1.0826001 58.212459-2.6216746 64.665674"/></g></g><g id="g140"><g id="g130" transform="translate(209.21051,367.6278)"><path id="path128" fill="none" stroke-width="2" stroke="#1a202c" d="M-1.1999404-1.5214036C-1.4371816 10.058365.17967553 56.917639 1.1051213 68.430535M3.3441392 3.8243807C2.3899557 16.019018-1.8692256 61.186713-1.8236862 72.285475"/></g><g id="g134" transform="translate(209.21051,367.6278)"><path id="path132" fill="none" stroke-width="2" stroke="#1a202c" d="m-12.759845 41.775867c5.9724918 15.913103 8.143263 22.61228 13.01961008 32.784295M-10.33071 42.533486c2.377326 11.164799 4.1866942 18.168852 7.4198973 29.065517"/></g><g id="g138" transform="translate(209.21051,367.6278)"><path id="path136" fill="none" stroke-width="2" stroke="#1a202c" d="M7.7329238 42.855882C5.7150495 58.171805-.11263063 64.449445.25976508 74.560162M10.162058 43.613501C5.667946 54.787399.60920953 61.429486-2.9108127 71.599003"/></g></g><g id="g154"><g id="g144" transform="translate(208.21051,582.6278)"><path id="path142" fill="none" stroke-width="2" stroke="#1a202c" d="M.78557144 2.719193C.38845397 13.408277-.11239499 54.848238-.25885519 65.281182M-2.2324997 1.7270154C-3.2161508 12.64918-2.6738562 57.062547-2.6249161 68.036822"/></g><g id="g148" transform="translate(208.21051,582.6278)"><path id="path146" fill="none" stroke-width="2" stroke="#1a202c" d="m-9.2030416 39.58344c-2.0210414 10.745556 1.9623433 17.45384 7.2531557 28.836427M-13.054861 40.429964c3.9672756 9.20085 8.2687823 17.581153 10.2271657 27.252548"/></g><g id="g152" transform="translate(208.21051,582.6278)"><path id="path150" fill="none" stroke-width="2" stroke="#1a202c" d="M11.317638 39.436143C1.5850695 50.352208-2.1442798 57.115853-1.9498859 68.419867M7.4658194 40.282668C4.2738562 49.617194 1.4158 58.048887-2.8276953 67.682512"/></g></g><g id="g168"><g id="g158" transform="translate(211.21051,797.6278)"><path id="path156" fill="none" stroke-width="2" stroke="#1a202c" d="M1.5697368-.83683476C1.0511137 9.5093856-3.6775627 53.170553-4.4719224 64.634484M-1.0226446-3.7594274C-.53679476 8.086975 1.5504333 55.980262.81672388 67.118431"/></g><g id="g162" transform="translate(211.21051,797.6278)"><path id="path160" fill="none" stroke-width="2" stroke="#1a202c" d="m-10.610998 35.987491c1.2690228 8.797789 8.5734426 17.02986 12.0381436 32.798908M-9.1195308 38.58336c1.9601374 8.697859 9.12090583 19.788001 11.8630467 28.712307"/></g><g id="g166" transform="translate(211.21051,797.6278)"><path id="path164" fill="none" stroke-width="2" stroke="#1a202c" d="M9.9102006 36.008132c-3.8908353 9.022692-1.7458962 17.249573-8.483055 32.778267M11.401667 38.604001C5.9279793 47.14253 5.6551998 58.225195 2.7435159 67.295667"/></g></g><g id="g182"><g id="g172" transform="translate(219.21051,1010.6278)"><path id="path170" fill="none" stroke-width="2" stroke="#1a202c" d="M.18389621.85386515C.07536003 12.370447-1.4836906 57.571118-1.4962611 68.381498M-3.1607986-1.150919c-.3214447 10.7721029-.5439368 53.840623-.071457 65.410457"/></g><g id="g176" transform="translate(219.21051,1010.6278)"><path id="path174" fill="none" stroke-width="2" stroke="#1a202c" d="m-12.687795 37.544277c3.8555326 9.843219 2.9283101 10.670031 8.3001469 22.772812M-13.504316 35.262946c2.858958 8.389967 5.5593339 13.210612 9.6799163 29.620789"/></g><g id="g180" transform="translate(219.21051,1010.6278)"><path id="path178" fill="none" stroke-width="2" stroke="#1a202c" d="M7.8311803 37.241556C6.1487336 47.193408-.31491591 48.1019-4.3876481 60.317089M7.0146593 34.960226c-2.2925872 8.6214-4.7474649 13.5181-10.839059 29.923509"/></g></g><g id="g196"><g id="g186" transform="translate(216.21051,1222.6278)"><path id="path184" fill="none" stroke-width="2" stroke="#1a202c" d="M-2.2708894 1.8996993c-.3347772 10.6322597.4188988 51.8617547.2362576 62.7891907M1.6918179.46265373C1.0213156 11.310374-2.8329697 55.451937-4.0628849 67.202371"/></g><g id="g190" transform="translate(216.21051,1222.6278)"><path id="path188" fill="none" stroke-width="2" stroke="#1a202c" d="m-8.9111812 38.723104c-3.2030118 6.902109 3.0235148 13.002817 6.4969968 28.904065M-10.290897 38.454066c-.06026 9.523325 5.9152657 18.342082 4.7377975 30.599383"/></g><g id="g194" transform="translate(216.21051,1222.6278)"><path id="path192" fill="none" stroke-width="2" stroke="#1a202c" d="M11.518958 40.65427C2.1935018 46.64743 2.3099343 52.170579-2.4141844 67.627169M10.139242 40.385232C3.1927537 49.614169 2.3092062 57.78457-5.5530995 69.053449"/></g></g><g id="g210"><g id="g200" transform="translate(212.21051,1433.6278)"><path id="path198" fill="none" stroke-width="2" stroke="#1a202c" d="M-1.7920528-.98070087C-2.6688968 10.483156-5.1423582 55.35829-5.0329109 66.759861M2.4305943-3.9813923C2.3637605 8.1493637.73046306 57.915627-.04880119 70.397583"/></g><g id="g204" transform="translate(212.21051,1433.6278)"><path id="path202" fill="none" stroke-width="2" stroke="#1a202c" d="m-10.434098 38.043206c3.7779156 14.503084 7.5019292 19.127222 9.0394479 34.87964M-10.581487 43.458804c5.3169154 6.916923 7.8424718 14.939982 10.18541972 28.057299"/></g><g id="g208" transform="translate(212.21051,1433.6278)"><path id="path206" fill="none" stroke-width="2" stroke="#1a202c" d="M10.066408 38.964748C7.5404455 52.921446 4.9472624 57.261613-1.3946501 72.922846m11.3136699-28.5425C8.5798469 51.370266 4.4657089 59.094857-.39606728 71.516103"/></g></g></svg></figure></p><p>When I create a pull request, either through GitHub&rsquo;s web interface or preferably by using their CLI (<code>gh pr create</code>), two things happen. (1) Netlify deploys a preview of the site (canary release) and (2) GitHub Actions runs my <a href=cypress.io/>Cypress</a> tests against that deployed site.</p><noscript><style>figure.lazy{display:none}</style><figure class=image-border><img src=/hugo-pipeline-series-developing-and-deploying/gha-green.png><figcaption><em></em></figcaption></figure></noscript><figure class="image-border lazy"><img class=lazyload data-sizes=auto src=/hugo-pipeline-series-developing-and-deploying/gha-green.png srcset="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAQCAIAAADfzGvmAAAB30lEQVR4nHxWS7LkIAyzUrn/LWcxF5jl6FVsGZvfS3dBaD4WksD9/vn318xgAL/SDIhmfNGaiPIbjlGPsr/o8fX2h73m0vnGJNDnL9NAH495JuDvBEB6i4pNwRgVeEQy8Bo1miugWkddjJjRDhpIdkgOBFoXHnssDmz7qxBcMbW6AZpYiFDOTw39gkJQhcubTlUOLEw7kg5iVaoYepz4zo7QtMANUyvon0Qz1MOE6Wii38h6Jb4rkvsXGKSJKkCnTIwFmo8m23m6QMJu5sEQ3I9No3qOJFnZOoKJpniTl4Kz7L/SJPvV0gzJ/tO6NbQ3coaCtnXdEHK8Tl1JdsA0U3V1UDCEaRxbaX60MB1fnXGwbT1oCd0CjptAL3aBdQcE6bMyOM4e64pLjoIkDMLSzZutk68TObS6V9Tx6M61uIenWe4Oh/ktqC9riW8Axy/t3iBn2TV3gXLW7bHMErYwio6sL8CbCTg+DR6ng8oFCjfeXt26rhXKi8oHxhVfOW7JNChd21Si63F+ps4HmU3bRSbKkDoiU4HqBRPauUUTrWi7CXT4/c1MziFcuzxG2kzEldcLzR4k3W0zPfz9hAWjryggSjJ0slUkkR21LVTlDLZMTdiWuNuk/d/ATwAAAP//yGoeTnV5tpAAAAAASUVORK5CYII=" data-src=/hugo-pipeline-series-developing-and-deploying/gha-green.png data-srcset="/hugo-pipeline-series-developing-and-deploying/gha-green.png 2058w, /hugo-pipeline-series-developing-and-deploying/gha-green_hub0d4b0c5b05b8f246c3a7b2491410267_155601_500x0_resize_box_2.png 500w, /hugo-pipeline-series-developing-and-deploying/gha-green_hub0d4b0c5b05b8f246c3a7b2491410267_155601_800x0_resize_box_2.png 800w, /hugo-pipeline-series-developing-and-deploying/gha-green_hub0d4b0c5b05b8f246c3a7b2491410267_155601_1200x0_resize_box_2.png 1200w, /hugo-pipeline-series-developing-and-deploying/gha-green_hub0d4b0c5b05b8f246c3a7b2491410267_155601_1500x0_resize_box_2.png 1500w" width=2058 height=704 alt="All checked passed in GitHub pull request"></figure><p>Running the tests against a deployed site (as opposed to a dev server on localhost) transform the tests from function tests to end-to-end tests. Before I had this setup I once broke the <em>comments</em> feature (using <a href=https://disqus.com/>Disqus</a>) by fiddling with <a href=https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP>Content Security Policy</a> headers, something I would have caught today when running the tests against a deployed site.</p><p>Since both building + deploying a site and installing Cypress to run the tests take some time, it&rsquo;s great that it can run in parallel. The <code>yarn install</code> run in GitHub Actions is typically done before the canary release is deployed by Netlify, so I use an action that waits for a 200 response from Netlify and then run the tests. Super happy with this setup!</p><h3 id=master-pull-requestyml>master-pull-request.yml</h3><div class=code-expandable><div class=code-expanded-controls><a x-show=!code.isExpanded role=button title=Expand @click=code.open($event) href="javascript:void('Expand/collapse code view')"><svg class="icon icon-expand"><use xlink:href="#icon-expand"/></svg></a></div><div class=code><div class=highlight><pre class=chroma><code class=language-yml data-lang=yml><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Tests</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=nt>on</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=nt>pull_request</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>branches</span><span class=p>:</span><span class=w>
</span><span class=w>      </span>- <span class=l>master</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=nt>jobs</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=nt>tests</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>runs-on</span><span class=p>:</span><span class=w> </span><span class=l>ubuntu-latest</span><span class=w>
</span><span class=w>    </span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span><span class=w>      </span>- <span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/checkout@v1</span><span class=w>
</span><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Install</span><span class=w>
</span><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=p>|</span><span class=sd>
</span><span class=sd>          </span><span class=w>          </span><span class=l>yarn install</span><span class=w>
</span><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Waiting for 200 from the Netlify Preview</span><span class=w>
</span><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>jakepartusch/wait-for-netlify-action@v1.1</span><span class=w>
</span><span class=w>        </span><span class=nt>id</span><span class=p>:</span><span class=w> </span><span class=l>waitFor200</span><span class=w>
</span><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span><span class=w>          </span><span class=nt>site_name</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;henriksommerfeld&#34;</span><span class=w>
</span><span class=w>          </span><span class=nt>max_timeout</span><span class=p>:</span><span class=w> </span><span class=m>300</span><span class=w>
</span><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Integration tests</span><span class=w>
</span><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=p>|</span><span class=sd>
</span><span class=sd>          </span><span class=w>          </span><span class=l>CYPRESS_BASE_URL=${{ steps.waitFor200.outputs.url }} npm run cypress:cli     </span><span class=w>
</span><span class=w>      
</span><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Run Lighthouse</span><span class=w>
</span><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>foo-software/lighthouse-check-action@master</span><span class=w>
</span><span class=w>        </span><span class=nt>id</span><span class=p>:</span><span class=w> </span><span class=l>lighthouseCheck</span><span class=w>
</span><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span><span class=w>          </span><span class=nt>accessToken</span><span class=p>:</span><span class=w> </span><span class=l>${{ secrets.LIGHTHOUSE_CHECK_GITHUB_ACCESS_TOKEN }}</span><span class=w>
</span><span class=w>          </span><span class=nt>author</span><span class=p>:</span><span class=w> </span><span class=l>${{ github.actor }}          </span><span class=w>
</span><span class=w>          </span><span class=nt>branch</span><span class=p>:</span><span class=w> </span><span class=l>${{ github.ref }}</span><span class=w>
</span><span class=w>          </span><span class=nt>urls</span><span class=p>:</span><span class=w> </span><span class=l>${{ steps.waitFor200.outputs.url }}</span><span class=w>
</span><span class=w>          </span><span class=nt>sha</span><span class=p>:</span><span class=w> </span><span class=l>${{ github.sha }}</span><span class=w>
</span><span class=w>          </span><span class=nt>prCommentEnabled</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>          </span><span class=nt>slackWebhookUrl</span><span class=p>:</span><span class=w> </span><span class=l>${{ secrets.LIGHTHOUSE_CHECK_WEBHOOK_URL }}</span></code></pre></div></div></div><p>As you can see from my workflow file above, I get a notification in <a href=https://slack.com>Slack</a> (I have a personal workspace) when the canary release is deployed and when a <a href=https://developers.google.com/web/tools/lighthouse>Lighthouse</a> audit is completed (after the Cypress tests). If I&rsquo;ve made changes to the look and feel (like a CSS change), I naturally take a look at the deployed canary release, but if not, I&rsquo;ll just go ahead and merge (which triggers a deploy to the live site).</p><p>One thing to say about the Lighthouse audits is that they are of questionable value for the canary releases. The performance score is always lower on the first page load, so you need to load at least two pages to get a fair result. Secondly, the SEO score won&rsquo;t say much since the canary release is purpously blocked from indexing and has a different URL than the canonical URL set for the site. For this reason, I run a Lighthouse audit on the live site as well. In this case I can&rsquo;t wait for a 200 response, so I&rsquo;ll just wait a bit longer than a deploy normally takes and run the audit after that.</p><h3 id=master-pushyml>master-push.yml</h3><div class=code-expandable><div class=code-expanded-controls><a x-show=!code.isExpanded role=button title=Expand @click=code.open($event) href="javascript:void('Expand/collapse code view')"><svg class="icon icon-expand"><use xlink:href="#icon-expand"/></svg></a></div><div class=code><div class=highlight><pre class=chroma><code class=language-yml data-lang=yml><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Tests</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=nt>on</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=nt>push</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>branches</span><span class=p>:</span><span class=w>
</span><span class=w>      </span>- <span class=l>master</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=nt>jobs</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=nt>tests</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>runs-on</span><span class=p>:</span><span class=w> </span><span class=l>ubuntu-latest</span><span class=w>
</span><span class=w>    </span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Wait 2 min for Netlify Deploy to complete</span><span class=w>
</span><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>jakejarvis/wait-action@master</span><span class=w>
</span><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span><span class=w>          </span><span class=nt>time</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;2m&#39;</span><span class=w>
</span><span class=w>
</span><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Hit once</span><span class=w>
</span><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>wei/curl@master</span><span class=w>
</span><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span><span class=w>          </span><span class=nt>args</span><span class=p>:</span><span class=w> </span><span class=l>https://www.henriksommerfeld.se</span><span class=w>
</span><span class=w>
</span><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Run Lighthouse</span><span class=w>
</span><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>foo-software/lighthouse-check-action@master</span><span class=w>
</span><span class=w>        </span><span class=nt>id</span><span class=p>:</span><span class=w> </span><span class=l>lighthouseCheck</span><span class=w>
</span><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span><span class=w>          </span><span class=nt>accessToken</span><span class=p>:</span><span class=w> </span><span class=l>${{ secrets.LIGHTHOUSE_CHECK_GITHUB_ACCESS_TOKEN }}</span><span class=w>
</span><span class=w>          </span><span class=nt>author</span><span class=p>:</span><span class=w> </span><span class=l>${{ github.actor }}          </span><span class=w>
</span><span class=w>          </span><span class=nt>branch</span><span class=p>:</span><span class=w> </span><span class=l>${{ github.ref }}</span><span class=w>
</span><span class=w>          </span><span class=nt>urls</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;https://www.henriksommerfeld.se/about,https://www.henriksommerfeld.se&#39;</span><span class=w>
</span><span class=w>          </span><span class=nt>sha</span><span class=p>:</span><span class=w> </span><span class=l>${{ github.sha }}</span><span class=w>
</span><span class=w>          </span><span class=nt>prCommentEnabled</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>          </span><span class=nt>slackWebhookUrl</span><span class=p>:</span><span class=w> </span><span class=l>${{ secrets.LIGHTHOUSE_CHECK_WEBHOOK_URL }}</span></code></pre></div></div></div><p>The Slack notifications from a &ldquo;production deploy&rdquo; looks something like this:</p><noscript><style>figure.lazy{display:none}</style><figure class=image-border><a href=/hugo-pipeline-series-developing-and-deploying/slack-notifications.png class=lightbox-hover><img src=/hugo-pipeline-series-developing-and-deploying/slack-notifications.png></a><figcaption><em></em></figcaption></figure></noscript><figure class="image-border lazy"><a href=/hugo-pipeline-series-developing-and-deploying/slack-notifications.png @click.prevent="lightbox.open($event, $refs)" class=lightbox-hover><img class=lazyload data-sizes=auto src=/hugo-pipeline-series-developing-and-deploying/slack-notifications.png srcset="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAiCAIAAACWfs1AAAADPUlEQVR4nJxYW7bbOAwjcrz/zc7M76DHMt+k2/SqTfyILEIARMr3+uff/0j+z7vJ/RERigAigvvf0z7lALt/d0rf3srF7xp61+vE5wFhaO4DCQGf7tTPfYCeQi8BUr8zLH4LiL3rpXeoccnoauPmOTBNiQJhYPLHf07PYYiNosBMQMg6Qp4QrEsw5EAzB9G9zS9CwfEVyUQKgGfmogIqP6XxsQ9pJzr6qhg7QlGr2r2Do0qmLnLD3LEkhWqTlyBGqRoRX5qJlSV+wF1GzeIiZcjMtEVTsQzN9NwLlOTlmCxFV9k5Z4lFJf5mCBpji8YwtdAEcDbLaDZJu68kwQkwhoptGD5iKJwGDli2zg2T+ApAfyZp7VQbMnqQzJAkW5f5i5m6RTK0fPLA6eg8cFDUoYjnOOvtsK7x5LCkw9pa1rZos40F5eQ8wlQQHlgH4qcFWCL/BgxnWLqyzMRTsnxMk40ed+k6gGL+NfY7Lxu4hvRUxglnwVQn8/HYMNsPHOcH///DxqVube1a78JzlYJ5AJ/zBD3h+wbpV7P5dJXUZUio8oiQCgZvgV6e8nubTe5uV5WIbUkZQU0vBJaOCFGD0eqWTPBAqbqYkln5ou3PsmSAnwWQTGRKu7ncNDIWxVMeah7WAs/0UKEnS5ZxlQLJvIfraFBh9V3RyhBb0I2ejqiOEVVm0TlbcPhjZQilTzBkZw4L2Qa2tTEcffNU0KD4Gn9gqHno7xhyehb/tMWQ/WSXLx5K/fENQ3YM96DuQrpeaBUC3zMU1HzBkJo67zcaA+GeqRfeV1laE5GdI2+vDN3Bgw5jCDtDNrp0WAtDT21E5G10sQB0Z5bMUjy0LMEGqy77xtiz5lN+qWIBqCmhMiRMiWlW0okAQ/ErXdPGL3unQORQ/oqhgWjqVUydB6RYWsyJqyLTcSqaJSlDlh1je2CcHw8hsxO7aKPoMbX9icFkhNTaUuMtaXoyNNxjgByBvRSn7TiQSBKXr/yeQg2GtjfpFUpcXZHj7Q2r5lNkksLobbmk4cmXUAtJmBAvgb0b2RuWd/EcH07CQDM3vIObAa6zU5f9QUQoQ1ESPQUhZewKYqIZ1f0PbQ7wKwAA//+HUINwPhCJewAAAABJRU5ErkJggg==" data-src=/hugo-pipeline-series-developing-and-deploying/slack-notifications.png data-srcset="/hugo-pipeline-series-developing-and-deploying/slack-notifications.png 1956w, /hugo-pipeline-series-developing-and-deploying/slack-notifications_hud38a5ea5d37ffe071ba89dbfb409f56c_321293_500x0_resize_box_2.png 500w, /hugo-pipeline-series-developing-and-deploying/slack-notifications_hud38a5ea5d37ffe071ba89dbfb409f56c_321293_800x0_resize_box_2.png 800w, /hugo-pipeline-series-developing-and-deploying/slack-notifications_hud38a5ea5d37ffe071ba89dbfb409f56c_321293_1200x0_resize_box_2.png 1200w, /hugo-pipeline-series-developing-and-deploying/slack-notifications_hud38a5ea5d37ffe071ba89dbfb409f56c_321293_1500x0_resize_box_2.png 1500w" width=1956 height=1374 alt="Deploy notification in Slack"></a></figure><p>Next post: <a href=/alpinejs-benefits-and-limitations>Alpine.js – Benefits and Limitations</a>.</p><footer><section class=categories-tags><span><svg class="icon icon-folder"><use xlink:href="#icon-folder"/></svg><span class=screen-reader-text>This entry was posted in</span>
<a href=/categories/coding>Coding</a></span> <span><svg class="icon icon-tag"><use xlink:href="#icon-tag"/></svg><a class=article-tags href=/tags/hugo>Hugo</a></span></section></footer><div id=comments-button-container class=comments-button-container><button type=button onclick=loadDisqus() class=comments-button><svg class="icon icon-bubble"><use xlink:href="#icon-bubble"/></svg> <span>Show Comments</span></button></div><div id=disqus_thread></div><script type=text/javascript>function loadDisqus(){var a,b;document.getElementById('comments-button-container').style.display='none',a=document.createElement('script'),a.type='text/javascript',a.async=!0,b='henrik-sommerfeld',a.src='//'+b+'.disqus.com/embed.js',(document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(a)}</script><noscript>Please enable JavaScript to view the <a href=http://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript></article></main><aside id=sidebar><div class=widget><div class=widget-title>Recent posts</div><ol class="recent-widget widget-content"><li><a href=/my-favourite-note-taking-app-for-mac-and-iphone/>My Favourite Note Taking App for Mac and iPhone</a></li><li><a href=/usability-learnings-from-building-a-cli/>Usability Learnings from Building a CLI</a></li><li><a href=/using-same-node-in-jenkins-groovy-pipeline/>Using Same Node in Jenkins Groovy Pipeline</a></li><li><a href=/search-static-website-without-external-service/>Search for Static Website Without External Service</a></li><li><a href=/simple-short-url-service/>Simple Short URL Service</a></li></ol></div><div class=widget><div class=widget-title>Tags</div><div class="tag-cloud-tags widget-content"><a href=/tags/alpine.js aria-label="alpine.js (1 posts)" style=font-size:1rem>alpine.js</a>
<a href=/tags/angular aria-label="angular (2 posts)" style=font-size:1.2101196280297548rem>angular</a>
<a href=/tags/arduino aria-label="arduino (2 posts)" style=font-size:1.2101196280297548rem>arduino</a>
<a href=/tags/azure-iot-hub aria-label="azure-iot-hub (2 posts)" style=font-size:1.2101196280297548rem>azure-iot-hub</a>
<a href=/tags/azure-media-player aria-label="azure-media-player (1 posts)" style=font-size:1rem>azure-media-player</a>
<a href=/tags/backup aria-label="backup (3 posts)" style=font-size:1.3330317310926394rem>backup</a>
<a href=/tags/bear aria-label="bear (1 posts)" style=font-size:1rem>bear</a>
<a href=/tags/brix aria-label="brix (1 posts)" style=font-size:1rem>brix</a>
<a href=/tags/career aria-label="career (2 posts)" style=font-size:1.2101196280297548rem>career</a>
<a href=/tags/chromecast aria-label="chromecast (1 posts)" style=font-size:1rem>chromecast</a>
<a href=/tags/chutzpah aria-label="chutzpah (1 posts)" style=font-size:1rem>chutzpah</a>
<a href=/tags/cmder aria-label="cmder (4 posts)" style=font-size:1.4202392560595096rem>cmder</a>
<a href=/tags/code-quality aria-label="code-quality (2 posts)" style=font-size:1.2101196280297548rem>code-quality</a>
<a href=/tags/conemu aria-label="conemu (1 posts)" style=font-size:1rem>conemu</a>
<a href=/tags/crashplan aria-label="crashplan (2 posts)" style=font-size:1.2101196280297548rem>crashplan</a>
<a href=/tags/css aria-label="css (6 posts)" style=font-size:1.5431513591223942rem>css</a>
<a href=/tags/dark-mode aria-label="dark-mode (1 posts)" style=font-size:1rem>dark-mode</a>
<a href=/tags/franz aria-label="franz (1 posts)" style=font-size:1rem>franz</a>
<a href=/tags/gatsbyjs aria-label="gatsbyjs (4 posts)" style=font-size:1.4202392560595096rem>gatsbyjs</a>
<a href=/tags/gmail aria-label="gmail (1 posts)" style=font-size:1rem>gmail</a>
<a href=/tags/gmvault aria-label="gmvault (1 posts)" style=font-size:1rem>gmvault</a>
<a href=/tags/google-analytics aria-label="google-analytics (1 posts)" style=font-size:1rem>google-analytics</a>
<a href=/tags/hardware aria-label="hardware (10 posts)" style=font-size:1.6980022956393248rem>hardware</a>
<a href=/tags/hugo aria-label="hugo (11 posts)" style=font-size:1.7268944849024415rem>hugo</a>
<a href=/tags/infuse aria-label="infuse (1 posts)" style=font-size:1rem>infuse</a>
<a href=/tags/internet-information-server aria-label="internet-information-server (1 posts)" style=font-size:1rem>internet-information-server</a>
<a href=/tags/internet-of-things aria-label="internet-of-things (7 posts)" style=font-size:1.5898803719702452rem>internet-of-things</a>
<a href=/tags/jasmine aria-label="jasmine (2 posts)" style=font-size:1.2101196280297548rem>jasmine</a>
<a href=/tags/javascript aria-label="javascript (14 posts)" style=font-size:1.8rem>javascript</a>
<a href=/tags/jenkins aria-label="jenkins (1 posts)" style=font-size:1rem>jenkins</a>
<a href=/tags/lunr aria-label="lunr (1 posts)" style=font-size:1rem>lunr</a>
<a href=/tags/macos aria-label="macos (5 posts)" style=font-size:1.4878826676095698rem>macos</a>
<a href=/tags/montezuma aria-label="montezuma (1 posts)" style=font-size:1rem>montezuma</a>
<a href=/tags/netlify-cms aria-label="netlify-cms (2 posts)" style=font-size:1.2101196280297548rem>netlify-cms</a>
<a href=/tags/networking aria-label="networking (3 posts)" style=font-size:1.3330317310926394rem>networking</a>
<a href=/tags/nodejs aria-label="nodejs (10 posts)" style=font-size:1.6980022956393248rem>nodejs</a>
<a href=/tags/notepad++ aria-label="notepad++ (1 posts)" style=font-size:1rem>notepad++</a>
<a href=/tags/oclif aria-label="oclif (1 posts)" style=font-size:1rem>oclif</a>
<a href=/tags/onedrive aria-label="onedrive (1 posts)" style=font-size:1rem>onedrive</a>
<a href=/tags/powershell aria-label="powershell (3 posts)" style=font-size:1.3330317310926394rem>powershell</a>
<a href=/tags/progressive-web-app aria-label="progressive-web-app (1 posts)" style=font-size:1rem>progressive-web-app</a>
<a href=/tags/proxy aria-label="proxy (1 posts)" style=font-size:1rem>proxy</a>
<a href=/tags/python aria-label="python (1 posts)" style=font-size:1rem>python</a>
<a href=/tags/raspberry-pi aria-label="raspberry-pi (4 posts)" style=font-size:1.4202392560595096rem>raspberry-pi</a>
<a href=/tags/reactjs aria-label="reactjs (4 posts)" style=font-size:1.4202392560595096rem>reactjs</a>
<a href=/tags/responsive-design aria-label="responsive-design (1 posts)" style=font-size:1rem>responsive-design</a>
<a href=/tags/sage aria-label="sage (1 posts)" style=font-size:1rem>sage</a>
<a href=/tags/scripting aria-label="scripting (7 posts)" style=font-size:1.5898803719702452rem>scripting</a>
<a href=/tags/sharepoint aria-label="sharepoint (4 posts)" style=font-size:1.4202392560595096rem>sharepoint</a>
<a href=/tags/short-urls aria-label="short-urls (1 posts)" style=font-size:1rem>short-urls</a>
<a href=/tags/tag-cloud aria-label="tag-cloud (1 posts)" style=font-size:1rem>tag-cloud</a>
<a href=/tags/testing aria-label="testing (1 posts)" style=font-size:1rem>testing</a>
<a href=/tags/text-editor aria-label="text-editor (1 posts)" style=font-size:1rem>text-editor</a>
<a href=/tags/typescript aria-label="typescript (4 posts)" style=font-size:1.4202392560595096rem>typescript</a>
<a href=/tags/unit-testing aria-label="unit-testing (3 posts)" style=font-size:1.3330317310926394rem>unit-testing</a>
<a href=/tags/vmware-workstation aria-label="vmware-workstation (1 posts)" style=font-size:1rem>vmware-workstation</a>
<a href=/tags/vs-code aria-label="vs-code (2 posts)" style=font-size:1.2101196280297548rem>vs-code</a>
<a href=/tags/warm-up aria-label="warm-up (1 posts)" style=font-size:1rem>warm-up</a>
<a href=/tags/windock aria-label="windock (1 posts)" style=font-size:1rem>windock</a>
<a href=/tags/windows-10 aria-label="windows-10 (4 posts)" style=font-size:1.4202392560595096rem>windows-10</a>
<a href=/tags/windows-search aria-label="windows-search (1 posts)" style=font-size:1rem>windows-search</a>
<a href=/tags/windows-server aria-label="windows-server (2 posts)" style=font-size:1.2101196280297548rem>windows-server</a>
<a href=/tags/windows-subsystem-for-linux aria-label="windows-subsystem-for-linux (1 posts)" style=font-size:1rem>windows-subsystem-for-linux</a>
<a href=/tags/wordpress aria-label="wordpress (3 posts)" style=font-size:1.3330317310926394rem>wordpress</a></div></div><div class=widget><div class=widget-title>Categories</div><ol class="all-categories widget-content"><li><a href=/categories/coding>coding</a> (44)</li><li><a href=/categories/thoughts>thoughts</a> (15)</li><li><a href=/categories/tooling>tooling</a> (17)</li></ol></div></aside></div></div><svg aria-hidden="true" style="position:absolute;width:0;height:0;overflow:hidden" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><symbol id="icon-github" viewBox="0 0 32 32"><path d="M16 .395c-8.836.0-16 7.163-16 16 0 7.069 4.585 13.067 10.942 15.182.8.148 1.094-.347 1.094-.77.0-.381-.015-1.642-.022-2.979-4.452.968-5.391-1.888-5.391-1.888-.728-1.849-1.776-2.341-1.776-2.341-1.452-.993.11-.973.11-.973 1.606.113 2.452 1.649 2.452 1.649 1.427 2.446 3.743 1.739 4.656 1.33.143-1.034.558-1.74 1.016-2.14-3.554-.404-7.29-1.777-7.29-7.907.0-1.747.625-3.174 1.649-4.295-.166-.403-.714-2.03.155-4.234.0.0 1.344-.43 4.401 1.64 1.276-.355 2.645-.532 4.005-.539 1.359.006 2.729.184 4.008.539 3.054-2.07 4.395-1.64 4.395-1.64.871 2.204.323 3.831.157 4.234 1.026 1.12 1.647 2.548 1.647 4.295.0 6.145-3.743 7.498-7.306 7.895.574.497 1.085 1.47 1.085 2.963.0 2.141-.019 3.864-.019 4.391.0.426.288.925 1.099.768C27.421 29.457 32 23.462 32 16.395c0-8.837-7.164-16-16-16z"/></symbol><symbol id="icon-arrow-with-circle-up" viewBox="0 0 32 32"><path d="M16 .64C7.515.64.638 7.517.638 16c0 8.485 6.877 15.362 15.362 15.362 8.482.0 15.36-6.877 15.36-15.362.0-8.483-6.878-15.36-15.36-15.36zM15.998 28.16c-6.715.0-12.16-5.443-12.16-12.16S9.281 3.84 15.998 3.84 28.16 9.285 28.16 16s-5.446 12.16-12.162 12.16zM16 8.8l7.2 7.2h-4v6.4h-6.4V16h-4L16 8.8z"/></symbol></defs></svg><footer id=page-footer><div class=footer-content><a href=https://github.com/henriksommerfeld/blog-hugo target=_blank rel=noopener title="Source Code for this Blog"><div class=footer-text><svg class="icon icon-github"><use xlink:href="#icon-github"/></svg>Blog code</div></a><a href=#page-wrapper title="Go to top" id=go-to-top-link><div class=footer-text>To top<svg class="icon icon-arrow-with-circle-up"><use xlink:href="#icon-arrow-with-circle-up"/></svg></div></a><script>document.getElementById("go-to-top-link").onclick=function(){return window.scroll(0,0),!1}</script></div></footer></div><div id=lightbox-container :class="{'open': lightbox.isOpen, 'close': !lightbox.isOpen}"><button type=button aria-label="Close image modal" class=modal-close-button @click=lightbox.close()><svg class="icon icon-circle-with-cross"><use xlink:href="#icon-circle-with-cross"/></svg>
(ESC)</button><div id=lightbox-loading-container x-ref=lightboxLoadingContainer x-show=lightbox.showLoading><div id=lightbox-loading><div aria-busy=true aria-label="Loading, please wait." role=progressbar class=spinner @click=lightbox.cancel() @click.away=lightbox.cancel()></div></div></div><div id=lightbox x-ref=lightbox :class="{'open': lightbox.openImage, 'close': !lightbox.openImage}" @click=lightbox.close()></div></div><div id=code-container :class="{'open': code.isOpening, 'close': !code.isOpening}"><button class=modal-close-button><svg class="icon icon-circle-with-cross"><use xlink:href="#icon-circle-with-cross"/></svg>
(ESC)</button><div id=code-container-inner class=close :class="{'open': code.isOpening, 'close': !code.isOpening}"><div class=box-shadow-container @click.away=code.close()><div id=code-placeholder></div></div></div></div><div id=searchbox-container :class="{'open': search.isOpen}" x-show=search.isOpen x-on:keydown.escape="$nextTick(() => $refs.searchMenuLink.focus())"><button type=button aria-label="Close search modal" class=modal-close-button @click="search.close();$nextTick(() => $refs.searchMenuLink.focus())"><svg class="icon icon-circle-with-cross"><use xlink:href="#icon-circle-with-cross"/></svg>
(ESC)</button><div id=searchbox :class="{'open': search.isOpen}"><svg class="icon icon-search"><use xlink:href="#icon-search"/></svg><label for=search-input class=sr-only>Searchbox</label>
<input id=search-input type=search placeholder=Search... class=search-input x-ref=searchInput autocomplete=off autocorrect=off autocapitalize=off spellcheck=false x-model=search.textInSearchBox x-on:input=search.searchBoxChanged($event.target.value) x-on:keydown.enter="search.focusFirstAnchor($event, $refs.hits)" x-on:keydown.arrow-down="search.focusFirstAnchor($event, $refs.hits)"><svg class="icon icon-circle-with-cross close-search" role="button" aria-label="Close search" @click="search.close();$nextTick(() => $refs.searchMenuLink.focus())"><use xlink:href="#icon-circle-with-cross"/></svg></div><div class=search-results-container><div id=search-output x-show=search.textInSearchBox><div id=no-results-message x-show="search.store && search.textInSearchBox && !search.hits.length">No matching posts found. You can use wildcards and search only in titles, e.g. <code>title:iot</code></div><div id=index-loading-message x-show="!search.indexLoadFailed && search.indexLoading && search.textInSearchBox"><span class=icon-spinner aria-hidden=true></span>Loading search index, please wait...</div><div id=index-failed-message x-show="search.indexLoadFailed && search.textInSearchBox">Search index failed to download 😢</div><div id=number-of-hits-message x-text=search.getHitsText() x-show=search.hits.length></div><ol class=result-list x-show=search.hits.length x-ref=hits><template x-for="hit in search.hits" :key=hit.ref><li><h2><a :href=hit.ref x-text=search.fromStore(hit).title></a></h2><div class=entry-meta><time class=published :datetime=search.fromStore(hit).dateiso><svg class="icon icon-calendar"><use xlink:href="#icon-calendar"/></svg><span x-text=search.fromStore(hit).dateformatted></span></time></div><p x-text=search.fromStore(hit).summary></p></li></template></ol></div></div></div><script src=/bundle.d969e7811744a912e4a95d442be0c0f42bf900a7a2b534c5942a8186f31138f3a0eb00df75e75ff1711191bc48948cfbffa129a1afb01af449abe8b34351266c.js integrity="sha512-2WnngRdEqRLkqV1EK+DA9Cv5AKeitTTFlCqBhvMROPOg6wDfdedf8XERkbxIlIz7/6Epoa+wGvRJq+izQ1EmbA=="></script></body></html>